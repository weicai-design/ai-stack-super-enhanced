# ğŸ”§ AIèŠå¤©ä¸­å¿ƒé—®é¢˜ä¿®å¤æŠ¥å‘Š

**æ—¶é—´**: 2025å¹´11æœˆ5æ—¥  
**é—®é¢˜**: èŠå¤©æ— æ³•ç”Ÿæˆå›å¤ï¼Œè¯­éŸ³åŠŸèƒ½å¼‚å¸¸

---

## ğŸ› å‘ç°çš„é—®é¢˜

### é—®é¢˜1: èŠå¤©æ— æ³•ç”Ÿæˆå›å¤
**ç—‡çŠ¶**: èŠå¤©æ¡†å‘é€æ¶ˆæ¯åï¼ŒAIè¿”å›"æŠ±æ­‰ï¼Œæš‚æ—¶æ— æ³•ç”Ÿæˆå›å¤ï¼Œè¯·ç¨åå†è¯•ã€‚"

**æ ¹æœ¬åŸå› **:
1. é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨äº† `qwen2.5:latest` æ¨¡å‹åç§°
2. ä½†Ollamaå®é™…å®‰è£…çš„æ¨¡å‹æ˜¯ `qwen2.5:7b`
3. æ¨¡å‹åç§°ä¸åŒ¹é…å¯¼è‡´Ollamaè°ƒç”¨å¤±è´¥

**æ—¥å¿—è¯æ®**:
```
ğŸ¤– æ­¥éª¤5: è°ƒç”¨AIæ¨¡å‹ç”Ÿæˆå›ç­” (æ¨¡å‹: qwen2.5:latest)...
(Ollamaæ‰¾ä¸åˆ°è¯¥æ¨¡å‹ï¼Œè¿”å›ç©ºå“åº”)
```

### é—®é¢˜2: å‰ç«¯æœªå‘é€æ¨¡å‹å‚æ•°
**ç—‡çŠ¶**: å³ä½¿ä¿®å¤äº†é»˜è®¤æ¨¡å‹ï¼Œç”¨æˆ·é€‰æ‹©çš„æ¨¡å‹ä¹Ÿä¸ä¼šç”Ÿæ•ˆ

**æ ¹æœ¬åŸå› **:
å‰ç«¯ `sendMessage()` å‡½æ•°ç¼ºå°‘æ¨¡å‹å‚æ•°å’Œç½‘é¡µæœç´¢å‚æ•°

**åŸä»£ç **:
```javascript
body: JSON.stringify({
    message: message,
    user_id: 'user_001'
})
```

åº”è¯¥æ˜¯:
```javascript
body: JSON.stringify({
    message: message,
    user_id: 'user_001',
    model: selectedModel,    // â† ç¼ºå¤±
    web_search: webSearchEnabled  // â† ç¼ºå¤±
})
```

### é—®é¢˜3: æ¨¡å‹åˆ—è¡¨ä¸åŒ¹é…
**ç—‡çŠ¶**: ä¸‹æ‹‰èœå•ä¸­çš„æ¨¡å‹å®é™…å¹¶æœªå®‰è£…

**æ ¹æœ¬åŸå› **:
é…ç½®çš„æ¨èæ¨¡å‹åˆ—è¡¨ä¸å®é™…å®‰è£…çš„æ¨¡å‹ä¸ä¸€è‡´

**é…ç½®çš„æ¨¡å‹** (é”™è¯¯):
- qwen2.5:latest âŒ
- llama3.2:latest âŒ
- gemma2:latest âŒ
- codellama:latest âŒ

**å®é™…å®‰è£…çš„æ¨¡å‹**:
- qwen2.5:7b âœ…
- qwen2.5:1.5b âœ…
- llama3.2:1b âœ…
- mistral:7b âœ…
- llama2:7b âœ…

---

## âœ… ä¿®å¤æ–¹æ¡ˆ

### ä¿®å¤1: æ›´æ–°é»˜è®¤æ¨¡å‹é…ç½®

**æ–‡ä»¶**: `config.py`

```python
# ä¿®æ”¹å‰
OLLAMA_MODEL = "qwen2.5:latest"

# ä¿®æ”¹å
OLLAMA_MODEL = "qwen2.5:7b"  # ä½¿ç”¨å®é™…å®‰è£…çš„æ¨¡å‹
```

### ä¿®å¤2: æ›´æ–°æ¨¡å‹åˆ—è¡¨

**æ–‡ä»¶**: `config.py`

```python
SUPPORTED_MODELS = [
    {"id": "qwen2.5:7b", "name": "Qwen 2.5 (æ¨è)", "size": "7B", "type": "é€šç”¨"},
    {"id": "qwen2.5:1.5b", "name": "Qwen 2.5 è½»é‡ç‰ˆ", "size": "1.5B", "type": "é€šç”¨"},
    {"id": "llama3.2:1b", "name": "Llama 3.2", "size": "1B", "type": "é€šç”¨"},
    {"id": "mistral:7b", "name": "Mistral", "size": "7B", "type": "é€šç”¨"},
    {"id": "llama2:7b", "name": "Llama 2", "size": "7B", "type": "é€šç”¨"},
    {"id": "qwen:7b", "name": "Qwen 1.0", "size": "7B", "type": "é€šç”¨"},
]
```

### ä¿®å¤3: æ›´æ–°å‰ç«¯æ¨¡å‹é€‰æ‹©å™¨

**æ–‡ä»¶**: `index.html`

```html
<select id="modelSelect" onchange="updateModelInfo()">
    <option value="qwen2.5:7b">Qwen 2.5 (æ¨è) - 7B é€šç”¨</option>
    <option value="qwen2.5:1.5b">Qwen 2.5 è½»é‡ç‰ˆ - 1.5B é€šç”¨</option>
    <option value="llama3.2:1b">Llama 3.2 - 1B é€šç”¨</option>
    <option value="mistral:7b">Mistral - 7B é€šç”¨</option>
    <option value="llama2:7b">Llama 2 - 7B é€šç”¨</option>
    <option value="qwen:7b">Qwen 1.0 - 7B é€šç”¨</option>
</select>
```

### ä¿®å¤4: ä¿®å¤å‰ç«¯å‘é€å‡½æ•°

**æ–‡ä»¶**: `index.html`

```javascript
async function sendMessage() {
    const message = userInput.value.trim();
    if (!message) return;
    
    // âœ… æ·»åŠ ï¼šè·å–é€‰ä¸­çš„æ¨¡å‹
    const selectedModel = modelSelect.value;
    
    // ... æ˜¾ç¤ºæ¶ˆæ¯ä»£ç  ...
    
    const response = await fetch('/api/chat', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
            message: message,
            user_id: 'user_001',
            model: selectedModel,          // âœ… æ–°å¢
            web_search: webSearchEnabled   // âœ… æ–°å¢
        })
    });
    
    // ... å¤„ç†å“åº”ä»£ç  ...
}
```

---

## ğŸ” å…³äºRAGå’ŒLearningæœåŠ¡æœªå¯åŠ¨çš„è¯´æ˜

**æ—¥å¿—ä¸­çš„è­¦å‘Š**:
```
âŒ RAGä¿å­˜å¤±è´¥: All connection attempts failed
âŒ å­¦ä¹ æäº¤å¤±è´¥: All connection attempts failed
```

**è¯´æ˜**:
- è¿™äº›æ˜¯æ­£å¸¸çš„è­¦å‘Šï¼Œä¸å½±å“èŠå¤©åŠŸèƒ½
- RAGæœåŠ¡ (ç«¯å£8011) å’ŒLearningæœåŠ¡ (ç«¯å£8012) éœ€è¦å•ç‹¬å¯åŠ¨
- èŠå¤©åŠŸèƒ½å¯ä»¥ç‹¬ç«‹å·¥ä½œï¼Œä¸ä¾èµ–è¿™äº›æœåŠ¡
- å¦‚æœéœ€è¦å®Œæ•´åŠŸèƒ½ï¼Œå¯ä»¥å¯åŠ¨è¿™äº›æœåŠ¡

**å¯åŠ¨RAGå’ŒLearningæœåŠ¡**ï¼ˆå¯é€‰ï¼‰:
```bash
# å¯åŠ¨RAGæœåŠ¡
cd "ğŸ“š Enhanced RAG & Knowledge Graph/api"
python main.py &

# å¯åŠ¨LearningæœåŠ¡
cd "ğŸ§  Self Learning System/api"
python learning_server.py &
```

---

## ğŸ¯ è¯­éŸ³åŠŸèƒ½è¯´æ˜

### TTS (æ–‡å­—è½¬è¯­éŸ³) - å·²å®Œæˆ
**çŠ¶æ€**: âœ… æ­£å¸¸å·¥ä½œ
- Edge TTSå·²å®‰è£…
- 20+ä¸­æ–‡è¯­éŸ³å¯ç”¨
- APIç«¯ç‚¹æ­£å¸¸

**ä½¿ç”¨æ–¹æ³•**:
```bash
# æµ‹è¯•TTS
curl -X POST http://localhost:8020/api/voice/tts \
  -H "Content-Type: application/json" \
  -d '{"text":"ä½ å¥½ï¼Œè¿™æ˜¯è¯­éŸ³æµ‹è¯•","voice":"zh-CN-XiaoxiaoNeural"}'
```

### STT (è¯­éŸ³è½¬æ–‡å­—) - æ¡†æ¶å®Œæˆ
**çŠ¶æ€**: âš ï¸ éœ€è¦å®‰è£…Whisper

**å¦‚ä½•å®‰è£…Whisper**:
```bash
# æ–¹æ³•1: ä»GitHubå®‰è£…ï¼ˆæ¨èï¼‰
pip install git+https://github.com/openai/whisper.git

# æ–¹æ³•2: ä½¿ç”¨conda
conda install -c conda-forge openai-whisper

# å®‰è£…åé‡å¯æœåŠ¡å³å¯ä½¿ç”¨
```

### å‰ç«¯è¯­éŸ³æŒ‰é’®
**çŠ¶æ€**: âœ… å·²é›†æˆ
- ğŸ¤ è¯­éŸ³è¾“å…¥æŒ‰é’®ï¼šéœ€è¦Whisper
- è¯­éŸ³è¾“å‡ºï¼šè°ƒç”¨TTS APIï¼ˆå·²å¯ç”¨ï¼‰

---

## âœ… éªŒè¯ä¿®å¤

### æµ‹è¯•1: åŸºæœ¬èŠå¤©
```bash
curl -X POST http://localhost:8020/api/chat \
  -H "Content-Type: application/json" \
  -d '{"message":"ä½ å¥½","user_id":"test","model":"qwen2.5:7b"}'
```

**é¢„æœŸç»“æœ**: 
```json
{
  "success": true,
  "response": "ä½ å¥½ï¼æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®åŠ©ä½ çš„å—ï¼Ÿ",
  "metadata": {
    "model_used": "qwen2.5:7b",
    ...
  }
}
```

### æµ‹è¯•2: æ¨¡å‹åˆ—è¡¨
```bash
curl http://localhost:8020/api/models
```

**é¢„æœŸç»“æœ**:
```json
{
  "success": true,
  "models": [
    {"id": "qwen2.5:7b", "name": "Qwen 2.5 (æ¨è)", "installed": true},
    ...
  ],
  "current_model": "qwen2.5:7b"
}
```

### æµ‹è¯•3: è¯­éŸ³çŠ¶æ€
```bash
curl http://localhost:8020/api/voice/status
```

**é¢„æœŸç»“æœ**:
```json
{
  "tts_available": true,
  "tts_engine": "Edge TTS",
  "stt_available": false,
  "stt_engine": "Not Installed"
}
```

---

## ğŸ“Š ä¿®å¤æ€»ç»“

| é—®é¢˜ | çŠ¶æ€ | å½±å“ |
|------|------|------|
| æ¨¡å‹åç§°ä¸åŒ¹é… | âœ… å·²ä¿®å¤ | èŠå¤©ç°åœ¨å¯ä»¥æ­£å¸¸å·¥ä½œ |
| å‰ç«¯å‚æ•°ç¼ºå¤± | âœ… å·²ä¿®å¤ | æ¨¡å‹é€‰æ‹©ç°åœ¨ç”Ÿæ•ˆ |
| æ¨¡å‹åˆ—è¡¨é”™è¯¯ | âœ… å·²ä¿®å¤ | æ˜¾ç¤ºå®é™…å¯ç”¨æ¨¡å‹ |
| TTSè¯­éŸ³åˆæˆ | âœ… æ­£å¸¸ | ç«‹å³å¯ç”¨ |
| STTè¯­éŸ³è¯†åˆ« | âš ï¸ éœ€å®‰è£… | æ¡†æ¶å®Œæˆï¼Œéœ€è£…Whisper |
| RAGæœåŠ¡ | â„¹ï¸ æœªå¯åŠ¨ | å¯é€‰æœåŠ¡ï¼Œä¸å½±å“èŠå¤© |

---

## ğŸš€ ç°åœ¨å¯ä»¥åšä»€ä¹ˆ

### âœ… ç«‹å³å¯ç”¨çš„åŠŸèƒ½

1. **AIèŠå¤©å¯¹è¯**
   - è®¿é—® http://localhost:8020
   - é€‰æ‹©æ¨¡å‹ï¼ˆ6ç§å¯é€‰ï¼‰
   - å¼€å§‹å¯¹è¯

2. **æ¨¡å‹åˆ‡æ¢**
   - Qwen 2.5 (7B) - æ¨èï¼Œä¸­æ–‡ä¼˜ç§€
   - Qwen 2.5 è½»é‡ç‰ˆ (1.5B) - é€Ÿåº¦å¿«
   - Llama 3.2 (1B) - è½»é‡é€šç”¨
   - Mistral (7B) - å¤šè¯­è¨€
   - Llama 2 (7B) - ç»å…¸æ¨¡å‹
   - Qwen 1.0 (7B) - ç¬¬ä¸€ä»£

3. **æ–‡ä»¶ä¸Šä¼ **
   - ç‚¹å‡» ğŸ“ ä¸Šä¼ æ–‡ä»¶
   - æ”¯æŒ60+æ ¼å¼

4. **è¯­éŸ³è¾“å‡º** (TTS)
   - è¾“å…¥æ–‡å­—
   - è°ƒç”¨APIç”Ÿæˆè¯­éŸ³
   - 20+ä¸­æ–‡è¯­éŸ³å¯é€‰

### âš ï¸ éœ€è¦é¢å¤–é…ç½®

1. **è¯­éŸ³è¾“å…¥** (STT)
   - å®‰è£…Whisper: `pip install git+https://github.com/openai/whisper.git`
   - é‡å¯æœåŠ¡

2. **å®Œæ•´RAGåŠŸèƒ½**
   - å¯åŠ¨RAGæœåŠ¡ (ç«¯å£8011)
   - å¯åŠ¨LearningæœåŠ¡ (ç«¯å£8012)

---

## ğŸ‰ ä¿®å¤å®Œæˆï¼

**æ‰€æœ‰æ ¸å¿ƒé—®é¢˜å·²è§£å†³**ï¼š
- âœ… èŠå¤©åŠŸèƒ½æ­£å¸¸
- âœ… æ¨¡å‹é€‰æ‹©ç”Ÿæ•ˆ
- âœ… TTSè¯­éŸ³å¯ç”¨
- âœ… æœåŠ¡è¿è¡Œç¨³å®š

**ç«‹å³è®¿é—®**: http://localhost:8020

å¼€å§‹äº«å—æ‚¨çš„AIåŠ©æ‰‹å§ï¼ğŸš€

