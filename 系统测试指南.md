# 🧪 系统测试指南

**测试时间**: 2025-11-03 晚上  
**目标**: 验证所有系统功能正常

---

## 🌐 所有系统访问地址

| 系统 | 地址 | 状态 | 说明 |
|------|------|------|------|
| OpenWebUI | http://localhost:3000 | ✅ | 统一交互入口 |
| ERP前端 | http://localhost:8012 | ✅ | ERP管理系统 |
| ERP后端 | http://localhost:8013 | ✅ | API服务 |
| RAG系统 | http://localhost:8011 | ✅ | 知识库 |

---

## 📋 测试清单（30分钟）

### 第1步：测试OpenWebUI（5分钟）⭐

**访问**: http://localhost:3000

**操作**:
1. ✅ 注册新账号（输入邮箱和密码）
2. ✅ 登录系统
3. ✅ 看到聊天界面
4. ✅ 选择模型（Qwen2.5-7B）
5. ✅ 发送第一条消息："你好"

**预期结果**:
- 看到OpenWebUI聊天界面
- Qwen2.5-7B模型可选
- AI正常回复

---

### 第2步：测试ERP系统（15分钟）⭐⭐

**访问**: http://localhost:8012

**在浏览器按**: `Cmd + Shift + R` 强制刷新

#### 2.1 测试首页（2分钟）
- [ ] 看到4个渐变色统计卡片
- [ ] 鼠标悬停卡片有动画
- [ ] 点击卡片能跳转
- [ ] 快捷入口按钮可点击

#### 2.2 测试财务看板（3分钟）
**访问**: http://localhost:8012/finance/dashboard

- [ ] 看到4个大的渐变卡片（收入/支出/利润/资产）
- [ ] 看到收入支出趋势折线图
- [ ] 看到财务构成饼图
- [ ] 看到30天数据表格
- [ ] 切换周期（日/周/月/季/年）
- [ ] 鼠标悬停图表显示详情

#### 2.3 测试经营分析（3分钟）
**开源分析**: http://localhost:8012/analytics/revenue
- [ ] 看到营收统计卡片
- [ ] 看到营收趋势图
- [ ] 看到客户类别饼图
- [ ] 看到产品销售表格

**成本分析**: http://localhost:8012/analytics/cost
- [ ] 看到成本统计
- [ ] 看到利润率
- [ ] 看到费用占比图

**产出效益**: http://localhost:8012/analytics/output
- [ ] 看到投入产出比
- [ ] 看到ROI指标
- [ ] 看到AI分析建议

#### 2.4 测试流程管理（3分钟）
**流程列表**: http://localhost:8012/process/list
- [ ] 看到流程统计卡片
- [ ] 看到流程实例列表
- [ ] 看到进度条

**流程跟踪**: 点击任意流程实例
- [ ] 看到16阶段流程图（4x4网格）
- [ ] 已完成阶段显示绿色✅
- [ ] 当前阶段显示蓝色🔵并高亮
- [ ] 看到时间线记录

**异常监控**: http://localhost:8012/process/exceptions
- [ ] 看到异常统计
- [ ] 看到异常列表
- [ ] 看到改进计划

#### 2.5 测试业务管理（4分钟）
**客户管理**: http://localhost:8012/business/customers
- [ ] 看到客户统计卡片
- [ ] 看到客户列表
- [ ] 点击"新增客户"打开对话框
- [ ] 点击"详情"查看客户信息

**订单管理**: http://localhost:8012/business/orders
- [ ] 看到订单统计
- [ ] 看到订单列表
- [ ] 测试状态筛选

**项目管理**: http://localhost:8012/business/projects
- [ ] 看到项目卡片
- [ ] 看到项目信息

---

### 第3步：测试OpenWebUI集成（10分钟）⭐⭐⭐

**访问**: http://localhost:3000

#### 3.1 测试基础聊天（2分钟）
**输入**:
```
你好，请介绍一下你自己
```

**预期**: AI正常回复

#### 3.2 测试ERP查询（3分钟）
**输入1**:
```
查看本月财务情况
```

**预期**: 返回财务数据（收入、支出、利润等）

**输入2**:
```
我们有多少个客户？
```

**预期**: 返回客户统计

**输入3**:
```
最近的订单情况如何？
```

**预期**: 返回订单信息

#### 3.3 测试文件上传（3分钟）
**操作**:
1. 点击聊天框的"+"按钮或文件图标
2. 选择一个PDF或Word文件上传
3. 等待处理完成
4. 询问："这个文件讲了什么？"

**预期**: AI基于文件内容回答

#### 3.4 测试RAG检索（2分钟）
**输入**:
```
之前我们聊过什么？
```

**预期**: AI能检索之前的对话内容

---

## ✅ 测试结果记录

### OpenWebUI测试
- [ ] 能正常访问
- [ ] 注册登录成功
- [ ] 聊天功能正常
- [ ] 模型选择正常
- [ ] ERP查询有效
- [ ] 文件上传有效

### ERP系统测试
- [ ] 所有页面能访问
- [ ] 图表正常显示
- [ ] 数据统计正确
- [ ] 筛选功能有效
- [ ] CRUD功能正常
- [ ] 响应速度快

### 集成测试
- [ ] OpenWebUI能查询ERP
- [ ] 聊天内容保存到RAG
- [ ] 文件自动处理
- [ ] 系统间数据互通

---

## 🎯 如果遇到问题

### OpenWebUI打不开
```bash
# 查看日志
docker logs open-webui

# 重启容器
docker restart open-webui

# 等待30秒后访问
open http://localhost:3000
```

### ERP页面空白
**在浏览器按**: `Cmd + Shift + R` 强制刷新

### ERP查询不返回数据
**检查后端**:
```bash
curl http://localhost:8013/health
```

### 图表不显示
- 等待数据加载（5-10秒）
- 刷新页面
- 检查Console是否有错误

---

## 📸 测试截图建议

如果想记录测试结果，建议截图：

1. ✅ OpenWebUI聊天界面
2. ✅ ERP首页（4个统计卡片）
3. ✅ 财务看板（图表和数据）
4. ✅ 16阶段流程图
5. ✅ OpenWebUI查询ERP的对话

---

## 🎉 测试完成后

**如果一切正常**:
- 🎊 恭喜！系统完全可用
- 📝 记录体验感受
- 😴 今晚好好休息
- 🚀 明天继续优化

**如果发现问题**:
- 📝 记录问题详情
- 📸 截图保存
- 💬 告诉我具体情况
- 🔧 我立即帮你修复

---

## 💡 测试技巧

### 浏览器开发者工具
**打开**: 按 `F12` 或 `Cmd + Option + I`

**Console标签**: 查看JavaScript错误  
**Network标签**: 查看API请求状态  
**Elements标签**: 查看页面结构

### 快捷键
- **刷新**: `Cmd + R`
- **强制刷新**: `Cmd + Shift + R`
- **开发者工具**: `Cmd + Option + I`
- **新标签页**: `Cmd + T`

---

## 🎯 测试重点

### 核心功能必测
1. ⭐⭐⭐ 财务看板图表
2. ⭐⭐⭐ 16阶段流程可视化
3. ⭐⭐⭐ OpenWebUI聊天
4. ⭐⭐ ERP数据查询
5. ⭐⭐ 业务管理CRUD

---

**准备好了吗？开始测试！** 🧪

**从这个开始**: http://localhost:3000

**记得**: 在ERP页面按 `Cmd + Shift + R` 强制刷新！

有任何问题立即告诉我！✨

