# 📖 AI-STACK V3.2 真实API配置指南

**版本**: V3.2 真实集成版  
**更新日期**: 2025-11-09  
**适用对象**: 系统管理员/开发者

---

## 🎯 V3.2新增功能

V3.2在V3.1基础上增加了**真实API对接**功能：

```
V3.1基础（已完成）:
├─ 121+项功能
├─ 约220个API端点
├─ 模拟数据模式
└─ 完整的业务逻辑

V3.2增强（新增）:
├─ 股票真实数据（同花顺API）
├─ 社交平台发布（小红书/抖音/知乎）
├─ LLM深度集成（GPT-4/Claude）
└─ 新闻真实数据

运行模式:
└─ 智能降级：有密钥用真实API，无密钥用模拟数据
```

---

## 🔧 API密钥配置

### 1. 股票数据API（同花顺）

```bash
# 方式1：环境变量
export TONGHUASHUN_API_KEY="your_api_key_here"
export TONGHUASHUN_API_SECRET="your_api_secret_here"

# 方式2：.env文件
echo "TONGHUASHUN_API_KEY=your_api_key_here" >> .env
echo "TONGHUASHUN_API_SECRET=your_api_secret_here" >> .env

# 获取API密钥:
# 1. 访问同花顺开放平台: http://open.10jqka.com.cn
# 2. 注册开发者账号
# 3. 创建应用获取密钥
```

### 2. 社交平台API（待配置）

```bash
# 小红书
export XIAOHONGSHU_ACCESS_TOKEN="your_token"

# 抖音
export DOUYIN_ACCESS_KEY="your_key"
export DOUYIN_ACCESS_SECRET="your_secret"

# 知乎
export ZHIHU_CLIENT_ID="your_client_id"
export ZHIHU_CLIENT_SECRET="your_client_secret"
```

### 3. LLM API（待配置）

```bash
# OpenAI
export OPENAI_API_KEY="sk-your_openai_key"

# Claude (Anthropic)
export ANTHROPIC_API_KEY="your_anthropic_key"

# 文心一言
export WENXIN_API_KEY="your_wenxin_key"
export WENXIN_SECRET_KEY="your_wenxin_secret"
```

### 4. 新闻API（待配置）

```bash
# 新闻API
export NEWS_API_KEY="your_news_api_key"
```

---

## 🎯 配置验证

### 验证股票API配置

```bash
# 测试同花顺API连接
curl http://localhost:8000/stock/data/000001?market=A

# 查看日志确认是否使用真实API
tail -f /tmp/api-v3.2.log | grep "同花顺"
```

### 查看配置状态

```bash
# 检查环境变量
env | grep -E "(TONGHUASHUN|OPENAI|DOUYIN)"

# 查看系统健康状态
curl http://localhost:8000/health
```

---

## 💡 使用说明

### 双模式运行

**V3.2支持智能降级**：

```
有API密钥 → 使用真实API
无API密钥 → 自动降级使用模拟数据

优势:
✅ 无需配置即可使用（模拟数据）
✅ 配置后自动切换真实数据
✅ API失败自动降级
✅ 保证系统稳定性
```

### 推荐配置顺序

```
第1步: 配置OpenAI API（最重要）
└─ 提升AI分析能力

第2步: 配置同花顺API
└─ 获取真实股票数据

第3步: 配置社交平台API
└─ 实现真实内容发布

第4步: 配置新闻API
└─ 获取真实趋势数据
```

---

## 🎊 配置后的能力提升

```
配置前（模拟数据）:
├─ 功能演示
├─ 系统测试
└─ 开发调试

配置后（真实API）:
├─ 真实业务应用 ✨
├─ 实际数据分析 ✨
├─ 自动化发布 ✨
└─ 智能决策支持 ✨
```

---

**配置指南版本**: V3.2  
**更新日期**: 2025-11-09  
**状态**: ✅ **同花顺适配器已创建**  
**下一步**: **配置其他API密钥**






















