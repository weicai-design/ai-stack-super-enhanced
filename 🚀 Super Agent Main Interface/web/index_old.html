<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-STACK 超级Agent V5.0 智能控制台</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="super-agent-container">
        <!-- 主布局：三栏结构 -->
        <div class="main-layout">
            <!-- 左侧：导航栏 -->
            <aside class="left-nav-sidebar">
                <div class="nav-section">
                    <h3 class="nav-section-title">核心系统</h3>
                    <ul class="nav-menu">
                        <li class="nav-item" data-module="chat">
                            <span class="nav-icon">💬</span>
                            <span class="nav-text">智能聊天</span>
                        </li>
                        <li class="nav-item" data-module="rag">
                            <span class="nav-icon">📚</span>
                            <span class="nav-text">RAG知识库</span>
                        </li>
                        <li class="nav-item" data-module="erp">
                            <span class="nav-icon">💼</span>
                            <span class="nav-text">ERP全流程</span>
                        </li>
                        <li class="nav-item" data-module="content">
                            <span class="nav-icon">✍️</span>
                            <span class="nav-text">内容创作</span>
                        </li>
                        <li class="nav-item" data-module="trend">
                            <span class="nav-icon">📈</span>
                            <span class="nav-text">趋势分析</span>
                        </li>
                        <li class="nav-item" data-module="stock">
                            <span class="nav-icon">💰</span>
                            <span class="nav-text">股票量化</span>
                        </li>
                        <li class="nav-item" data-module="operations">
                            <span class="nav-icon">⚙️</span>
                            <span class="nav-text">运营·财务</span>
                        </li>
                        <li class="nav-item" data-module="coding">
                            <span class="nav-icon">💻</span>
                            <span class="nav-text">AI编程助手</span>
                        </li>
                        <li class="nav-item" data-module="workplan">
                            <span class="nav-icon">📋</span>
                            <span class="nav-text">工作计划</span>
                            <span class="nav-badge">3</span>
                        </li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <h3 class="nav-section-title">工具功能</h3>
                    <ul class="nav-menu">
                        <li class="nav-item" data-module="websearch">
                            <span class="nav-icon">🔍</span>
                            <span class="nav-text">网络搜索</span>
                        </li>
                        <li class="nav-item" data-module="translation">
                            <span class="nav-icon">🌐</span>
                            <span class="nav-text">多语言翻译</span>
                        </li>
                        <li class="nav-item active" data-module="filegen">
                            <span class="nav-icon">📄</span>
                            <span class="nav-text">文件生成</span>
                        </li>
                    </ul>
                </div>
            </aside>

            <!-- 中央：交互区域 -->
            <main class="chat-main-area">
                <!-- 聊天消息区 -->
                <div class="chat-messages-container" id="chat-messages">
                    <!-- 示例消息 -->
                    <div class="message-item agent-message">
                        <div class="message-header">
                            <span class="message-module">网络搜索功能</span>
                            <span class="message-time">17:36</span>
                        </div>
                        <div class="message-content">
                            <p>请输入您要搜索的内容，我会帮您搜索并整合结果。</p>
                            <div class="message-details">
                                <p><strong>支持的搜索引擎：</strong>Google, Bing, Baidu, DuckDuckGo</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="message-item system-message">
                        <div class="message-content">
                            <p>正在打开"RAG知识库"模块...</p>
                            <p class="message-note">实际使用中，这里会打开对应的二级界面。</p>
                        </div>
                        <span class="message-time">17:37</span>
                    </div>
                    
                    <div class="message-item system-message">
                        <div class="message-content">
                            <p>正在打开"ERP全流程"模块...</p>
                            <p class="message-note">实际使用中，这里会打开对应的二级界面。</p>
                        </div>
                        <span class="message-time">17:37</span>
                    </div>
                    
                    <div class="message-item system-message">
                        <div class="message-content">
                            <p>正在打开"内容创作"模块...</p>
                            <p class="message-note">实际使用中，这里会打开对应的二级界面。</p>
                        </div>
                        <span class="message-time">17:37</span>
                    </div>
                    
                    <div class="message-item system-message">
                        <div class="message-content">
                            <p>正在打开"趋势分析"模块...</p>
                            <p class="message-note">实际使用中，这里会打开对应的二级界面。</p>
                        </div>
                        <span class="message-time">17:37</span>
                    </div>
                </div>

                <!-- 输入区域 -->
                <div class="chat-input-container">
                    <div class="input-wrapper">
                        <button class="input-icon-btn" id="voice-btn" title="语音输入">🎤</button>
                        <button class="input-icon-btn" id="file-btn" title="上传文件">📎</button>
                        <input 
                            type="text" 
                            id="chat-input" 
                            class="chat-input-field"
                            placeholder="输入您的问题，或使用语音输入、拖拽文件... (Ctrl+Enter发送)"
                        />
                        <button class="input-icon-btn" id="search-icon-btn" title="搜索">🔍</button>
                    </div>
                    <div class="input-actions">
                        <button class="action-btn play-btn" id="play-btn">▶️</button>
                        <button class="action-btn square-btn" id="square-btn">⏹️</button>
                    </div>
                </div>
            </main>

            <!-- 右侧：状态/仪表板 -->
            <aside class="right-status-sidebar">
                <!-- 模型选择 -->
                <div class="status-panel">
                    <div class="panel-header">
                        <h4>模型选择</h4>
                        <button class="icon-btn-small">⚙️</button>
                    </div>
                    <select id="model-selector" class="model-selector-dropdown">
                        <option value="qwen2.5:1.5b" selected>qwen2.5:1.5b (快速)</option>
                        <option value="qwen2.5:7b">qwen2.5:7b (高质量)</option>
                        <option value="llama3.2:1b">llama3.2:1b (极速)</option>
                        <option value="mistral:7b">mistral:7b</option>
                        <option value="claude">Claude</option>
                        <option value="ollama">Ollama (本地)</option>
                    </select>
                </div>

                <!-- 学习系统 -->
                <div class="status-panel">
                    <div class="panel-header">
                        <h4>学习系统运行中...</h4>
                        <span class="status-dot-green" id="learning-status-dot"></span>
                    </div>
                    <div class="checkbox-list">
                        <label class="checkbox-item">
                            <input type="checkbox" checked disabled>
                            <span>监控AI工作流程</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" checked disabled>
                            <span>记录问题和方案</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" checked disabled>
                            <span>自动优化系统</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" checked disabled>
                            <span>经验存入RAG</span>
                        </label>
                    </div>
                    <!-- 工作流统计 -->
                    <div id="workflow-stats" class="workflow-stats" style="margin-top: 10px; padding-top: 10px; border-top: 1px solid #3e3e42;">
                        <div class="stat-item">
                            <span class="stat-label">总工作流:</span>
                            <span class="stat-value" id="workflow-count">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">平均响应:</span>
                            <span class="stat-value">0.00s</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">成功率:</span>
                            <span class="stat-value">0%</span>
                        </div>
                    </div>
                    <!-- 性能瓶颈 -->
                    <div id="workflow-bottlenecks" class="workflow-bottlenecks" style="margin-top: 10px; font-size: 12px; color: #858585;">
                    </div>
                </div>

                <!-- 系统资源 -->
                <div class="status-panel">
                    <div class="panel-header">
                        <h4>系统资源</h4>
                    </div>
                    <div class="resource-item">
                        <div class="resource-label-row">
                            <span>CPU</span>
                            <span id="cpu-percent">44%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="cpu-progress" style="width: 44%"></div>
                        </div>
                    </div>
                    <div class="resource-item">
                        <div class="resource-label-row">
                            <span>内存</span>
                            <span id="memory-percent">50%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="memory-progress" style="width: 50%"></div>
                        </div>
                    </div>
                    <div class="resource-item">
                        <div class="resource-label-row">
                            <span>磁盘</span>
                            <span id="disk-percent">78%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="disk-progress" style="width: 78%"></div>
                        </div>
                    </div>
                    <div class="resource-item">
                        <div class="resource-label-row">
                            <span>网络</span>
                            <span id="network-speed">22 Mbps</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="network-progress" style="width: 22%"></div>
                        </div>
                    </div>
                    <div class="external-drive-info">
                        <span>外接硬盘: 已连接(2TB)</span>
                    </div>
                    <!-- 资源自动调节状态 -->
                    <div id="resource-adjuster-status" class="resource-adjuster-status" style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #3e3e42; font-size: 12px;">
                        <div class="adjuster-status-row">
                            <span>自动调节:</span>
                            <span class="status-disabled">已禁用</span>
                        </div>
                        <div class="adjuster-status-row">
                            <span>阈值:</span>
                            <span>medium</span>
                        </div>
                    </div>
                    <!-- 资源告警 -->
                    <div id="resource-alerts" class="resource-alerts" style="margin-top: 10px; display: none;">
                    </div>
                </div>

                <!-- 备忘录 -->
                <div class="status-panel">
                    <div class="panel-header">
                        <h4>备忘录</h4>
                    </div>
                    <div class="memo-list" id="memo-list">
                        <div class="memo-item">
                            <div class="memo-content">你好</div>
                            <div class="memo-time">刚刚</div>
                        </div>
                        <div class="memo-item">
                            <div class="memo-content">明天下午3点开会讨论ERP优化方案</div>
                            <div class="memo-time">2分钟前</div>
                        </div>
                        <div class="memo-item">
                            <div class="memo-content">需要更新财务报表模板</div>
                            <div class="memo-time">10分钟前</div>
                        </div>
                        <div class="memo-item">
                            <div class="memo-content">检查股票策略回测结果</div>
                            <div class="memo-time">1小时前</div>
                        </div>
                    </div>
                </div>

                <!-- 待确认任务 -->
                <div class="status-panel">
                    <div class="panel-header">
                        <h4>待确认任务</h4>
                    </div>
                    <div class="task-list" id="task-list">
                        <div class="task-item">
                            <div class="task-title">生成月度财务报告</div>
                            <div class="task-status executing">执行中</div>
                            <div class="task-description">基于本月ERP数据生成财务分析报告。</div>
                        </div>
                        <div class="task-item">
                            <div class="task-title">优化库存管理流程</div>
                            <div class="task-status executing">执行中</div>
                            <div class="task-description">分析库存周转率，提出优化建议。</div>
                        </div>
                    </div>
                </div>
            </aside>
        </div>
    </div>

    <script src="js/utils.js"></script>
    <script src="js/monitor.js"></script>
    <script src="js/memo.js"></script>
    <script src="js/task.js"></script>
    <script src="js/chat.js"></script>
    <script src="js/main.js"></script>
    <script src="js/debug.js"></script>
</body>
</html>
