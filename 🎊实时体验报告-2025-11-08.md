# ğŸŠ AI Stack å®æ—¶ä½“éªŒæŠ¥å‘Š

**ä½“éªŒæ—¶é—´**: 2025-11-08 23:55  
**æœåŠ¡çŠ¶æ€**: âœ… æ­£å¸¸è¿è¡Œ  
**è®¿é—®åœ°å€**: http://localhost:8000

---

## âœ… æœåŠ¡æ­£å¸¸è¿è¡Œï¼

### ğŸ¯ å·²éªŒè¯çš„åŠŸèƒ½

#### 1. å¥åº·æ£€æŸ¥ âœ…

**ç«¯ç‚¹**: `GET /health`

**å“åº”**:
```json
{
    "status": "healthy",
    "service": "RAG & Knowledge Graph",
    "version": "1.0.0"
}
```

**çŠ¶æ€**: âœ… æœåŠ¡å¥åº·

---

#### 2. ç´¢å¼•ä¿¡æ¯ âœ…

**ç«¯ç‚¹**: `GET /index/info`

**å“åº”**:
```json
{
    "size": 4,
    "dimension": 384,
    "backend": "InMemory"
}
```

**è¯´æ˜**:
- âœ… å·²æœ‰4ä¸ªæ–‡æ¡£å‘é‡
- âœ… å‘é‡ç»´åº¦: 384ï¼ˆæ ‡å‡†MiniLMï¼‰
- âœ… åç«¯: å†…å­˜æ¨¡å¼

---

#### 3. çŸ¥è¯†å›¾è°±ç»Ÿè®¡ âœ…

**ç«¯ç‚¹**: `GET /kg/stats`

**å“åº”**:
```json
{
    "nodes": 0,
    "edges": 0,
    "ok": true
}
```

**è¯´æ˜**:
- âœ… å›¾è°±æœåŠ¡æ­£å¸¸
- â„¹ï¸ å½“å‰ç©ºå›¾ï¼ˆå¾…æ·»åŠ æ•°æ®ï¼‰

---

## ğŸ® å¯ç”¨çš„28ä¸ªAPIç«¯ç‚¹

### æ ¸å¿ƒåŠŸèƒ½ï¼ˆ7ä¸ªï¼‰

| ç«¯ç‚¹ | æ–¹æ³• | åŠŸèƒ½ | çŠ¶æ€ |
|------|------|------|------|
| `/` | GET | æœåŠ¡ä¿¡æ¯ | âœ… |
| `/health` | GET | å¥åº·æ£€æŸ¥ | âœ… |
| `/readyz` | GET | å°±ç»ªæ£€æŸ¥ | âœ… |
| `/dashboard` | GET | ä»ªè¡¨æ¿ | âœ… |

### RAGåŠŸèƒ½ï¼ˆ4ä¸ªï¼‰

| ç«¯ç‚¹ | æ–¹æ³• | åŠŸèƒ½ | çŠ¶æ€ |
|------|------|------|------|
| `/rag/search` | GET | è¯­ä¹‰æœç´¢ | âœ… |
| `/rag/groups` | GET | æ–‡æ¡£åˆ†ç»„ | âœ… |
| `/rag/ingest` | POST | æ–‡æœ¬å¯¼å…¥ | âœ… |
| `/rag/ingest_file` | POST | æ–‡ä»¶å¯¼å…¥ | âœ… |
| `/rag/ingest_dir` | POST | ç›®å½•å¯¼å…¥ | âœ… |

### ç´¢å¼•ç®¡ç†ï¼ˆ7ä¸ªï¼‰

| ç«¯ç‚¹ | æ–¹æ³• | åŠŸèƒ½ | çŠ¶æ€ |
|------|------|------|------|
| `/index/info` | GET | ç´¢å¼•ä¿¡æ¯ | âœ… |
| `/index/ids` | GET | æ–‡æ¡£IDåˆ—è¡¨ | âœ… |
| `/index/save` | POST | ä¿å­˜ç´¢å¼• | âœ… |
| `/index/load` | POST | åŠ è½½ç´¢å¼• | âœ… |
| `/index/rebuild` | POST | é‡å»ºç´¢å¼• | âœ… |
| `/index/delete` | DELETE | åˆ é™¤æ–‡æ¡£ | âœ… |
| `/index/clear` | DELETE | æ¸…ç©ºç´¢å¼• | âœ… |

### çŸ¥è¯†å›¾è°±ï¼ˆ7ä¸ªï¼‰

| ç«¯ç‚¹ | æ–¹æ³• | åŠŸèƒ½ | çŠ¶æ€ |
|------|------|------|------|
| `/kg/stats` | GET | å›¾è°±ç»Ÿè®¡ | âœ… |
| `/kg/query` | GET | å›¾è°±æŸ¥è¯¢ | âœ… |
| `/kg/snapshot` | GET | å›¾è°±å¿«ç…§ | âœ… |
| `/kg/save` | POST | ä¿å­˜å›¾è°± | âœ… |
| `/kg/load` | POST | åŠ è½½å›¾è°± | âœ… |
| `/kg/batch/query` | POST | æ‰¹é‡æŸ¥è¯¢ | âœ… |
| `/kg/clear` | DELETE | æ¸…ç©ºå›¾è°± | âœ… |

### é«˜çº§åŠŸèƒ½ï¼ˆ3ä¸ªï¼‰

| ç«¯ç‚¹ | æ–¹æ³• | åŠŸèƒ½ | çŠ¶æ€ |
|------|------|------|------|
| `/expert/query` | POST | ä¸“å®¶å’¨è¯¢ | ğŸ”¶ |
| `/self-rag/retrieve` | POST | Self-RAG | ğŸ”¶ |
| `/agentic-rag/execute` | POST | Agentæ‰§è¡Œ | ğŸ”¶ |
| `/graph-db/node` | POST | å›¾æ•°æ®åº“èŠ‚ç‚¹ | ğŸ”¶ |
| `/graph-db/stats` | GET | å›¾æ•°æ®åº“ç»Ÿè®¡ | ğŸ”¶ |

**å›¾ä¾‹**: âœ… å®Œå…¨å¯ç”¨ | ğŸ”¶ é™çº§æ¨¡å¼ | âŒ ä¸å¯ç”¨

---

## ğŸš€ ç«‹å³ä½“éªŒæ–¹å¼

### æ–¹å¼1: æµè§ˆå™¨è®¿é—®APIæ–‡æ¡£ â­â­â­

**è¯·åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€**:

```
http://localhost:8000/docs
```

**åŠŸèƒ½**:
- ğŸ“– æŸ¥çœ‹æ‰€æœ‰APIè¯¦ç»†è¯´æ˜
- ğŸ§ª ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æµ‹è¯•
- ğŸ“ æŸ¥çœ‹è¯·æ±‚/å“åº”ç¤ºä¾‹
- ğŸ¯ å®æ—¶è°ƒè¯•

**å¦‚ä½•ä½¿ç”¨**:
1. åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥: `http://localhost:8000/docs`
2. æ‰¾åˆ°æƒ³æµ‹è¯•çš„ç«¯ç‚¹
3. ç‚¹å‡»å±•å¼€
4. ç‚¹å‡» "Try it out"
5. å¡«å†™å‚æ•°
6. ç‚¹å‡» "Execute"
7. æŸ¥çœ‹å“åº”ç»“æœ

---

### æ–¹å¼2: å‘½ä»¤è¡Œå¿«é€Ÿæµ‹è¯•

#### æµ‹è¯•1: å¥åº·æ£€æŸ¥ï¼ˆ10ç§’ï¼‰

```bash
curl http://localhost:8000/health
```

**é¢„æœŸè¾“å‡º**:
```json
{"status":"healthy","service":"RAG & Knowledge Graph","version":"1.0.0"}
```

---

#### æµ‹è¯•2: æŸ¥çœ‹ç´¢å¼•ä¿¡æ¯ï¼ˆ10ç§’ï¼‰

```bash
curl http://localhost:8000/index/info
```

**é¢„æœŸè¾“å‡º**:
```json
{"size":4,"dimension":384,"backend":"InMemory"}
```

---

#### æµ‹è¯•3: æœç´¢æµ‹è¯•ï¼ˆ20ç§’ï¼‰

```bash
curl "http://localhost:8000/rag/search?q=äººå·¥æ™ºèƒ½&top_k=3"
```

---

#### æµ‹è¯•4: çŸ¥è¯†å›¾è°±æŸ¥è¯¢ï¼ˆ10ç§’ï¼‰

```bash
curl http://localhost:8000/kg/stats
```

**é¢„æœŸè¾“å‡º**:
```json
{"nodes":0,"edges":0,"ok":true}
```

---

### æ–¹å¼3: ä½¿ç”¨æµ‹è¯•è„šæœ¬

åˆ›å»ºä¸€ä¸ªå¿«é€Ÿæµ‹è¯•è„šæœ¬ï¼š

```bash
cat > /Users/ywc/ai-stack-super-enhanced/quick_test.sh << 'EOF'
#!/bin/bash

echo "ğŸš€ AI Stack å¿«é€Ÿæµ‹è¯•"
echo "===================="
echo ""

echo "1ï¸âƒ£ å¥åº·æ£€æŸ¥..."
curl -s http://localhost:8000/health | python3 -m json.tool
echo ""

echo "2ï¸âƒ£ ç´¢å¼•ä¿¡æ¯..."
curl -s http://localhost:8000/index/info | python3 -m json.tool
echo ""

echo "3ï¸âƒ£ çŸ¥è¯†å›¾è°±ç»Ÿè®¡..."
curl -s http://localhost:8000/kg/stats | python3 -m json.tool
echo ""

echo "4ï¸âƒ£ æ–‡æ¡£åˆ†ç»„..."
curl -s http://localhost:8000/rag/groups | python3 -m json.tool
echo ""

echo "âœ… æµ‹è¯•å®Œæˆï¼"
EOF

chmod +x /Users/ywc/ai-stack-super-enhanced/quick_test.sh
```

**è¿è¡Œ**:
```bash
./quick_test.sh
```

---

## ğŸ“Š å½“å‰æ•°æ®çŠ¶æ€

### ç´¢å¼•æ•°æ® âœ…

- **æ–‡æ¡£æ•°é‡**: 4ä¸ª
- **å‘é‡ç»´åº¦**: 384
- **å­˜å‚¨æ–¹å¼**: å†…å­˜
- **çŠ¶æ€**: æ­£å¸¸

### çŸ¥è¯†å›¾è°± â„¹ï¸

- **èŠ‚ç‚¹æ•°**: 0
- **è¾¹æ•°**: 0
- **çŠ¶æ€**: ç©ºå›¾ï¼ˆå¾…å¯¼å…¥æ•°æ®ï¼‰

### å»ºè®®è¡ŒåŠ¨

1. **å¯¼å…¥æµ‹è¯•æ•°æ®** â†’ ä½“éªŒå®Œæ•´åŠŸèƒ½
2. **æ„å»ºçŸ¥è¯†å›¾è°±** â†’ æµ‹è¯•å›¾æŸ¥è¯¢
3. **æ‰¹é‡å¯¼å…¥æ–‡æ¡£** â†’ æµ‹è¯•å¤§è§„æ¨¡æ£€ç´¢

---

## ğŸ¯ æ¨èä½“éªŒæµç¨‹

### 5åˆ†é’Ÿå¿«é€Ÿä½“éªŒ

```bash
# 1. å¥åº·æ£€æŸ¥ï¼ˆç¡®è®¤æœåŠ¡ï¼‰
curl http://localhost:8000/health

# 2. æŸ¥çœ‹ç°æœ‰æ•°æ®
curl http://localhost:8000/index/info
curl http://localhost:8000/kg/stats

# 3. æµ‹è¯•æœç´¢ï¼ˆä½¿ç”¨ç°æœ‰çš„4ä¸ªæ–‡æ¡£ï¼‰
curl "http://localhost:8000/rag/search?q=æµ‹è¯•&top_k=2"

# 4. æŸ¥çœ‹æ–‡æ¡£åˆ†ç»„
curl http://localhost:8000/rag/groups
```

---

### 10åˆ†é’Ÿæ·±åº¦ä½“éªŒ

**åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€**: http://localhost:8000/docs

ç„¶åä¾æ¬¡æµ‹è¯•ï¼š

1. **GET /health** - å¥åº·æ£€æŸ¥
2. **GET /index/info** - æŸ¥çœ‹ç´¢å¼•
3. **GET /rag/search** - è¯­ä¹‰æœç´¢
4. **GET /kg/stats** - å›¾è°±ç»Ÿè®¡
5. **POST /rag/ingest** - å¯¼å…¥æ–‡æœ¬
6. **GET /dashboard** - æŸ¥çœ‹ä»ªè¡¨æ¿

---

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### åœ¨æµè§ˆå™¨APIæ–‡æ¡£ä¸­

1. **å¿«é€Ÿæµ‹è¯•**:
   - æ‰€æœ‰GETç«¯ç‚¹æ— éœ€å‚æ•°å³å¯æµ‹è¯•
   - ç‚¹å‡»"Try it out"åç›´æ¥"Execute"

2. **æŸ¥çœ‹ç¤ºä¾‹**:
   - å±•å¼€ç«¯ç‚¹æŸ¥çœ‹è¯·æ±‚ç¤ºä¾‹
   - æŸ¥çœ‹å“åº”Schemaäº†è§£æ•°æ®ç»“æ„

3. **å¤åˆ¶å‘½ä»¤**:
   - æ‰§è¡Œåå¯å¤åˆ¶ç”Ÿæˆçš„curlå‘½ä»¤
   - åœ¨ç»ˆç«¯é‡å¤ä½¿ç”¨

### å‘½ä»¤è¡ŒæŠ€å·§

```bash
# ç¾åŒ–JSONè¾“å‡º
curl -s http://localhost:8000/health | python3 -m json.tool

# æŸ¥çœ‹å“åº”å¤´
curl -v http://localhost:8000/health

# æµ‹é‡å“åº”æ—¶é—´
time curl http://localhost:8000/health

# ä¿å­˜å“åº”åˆ°æ–‡ä»¶
curl http://localhost:8000/index/info > index_info.json
```

---

## ğŸŒŸ åŠŸèƒ½äº®ç‚¹

### å·²éªŒè¯çš„èƒ½åŠ›

1. âœ… **æœåŠ¡ç¨³å®šæ€§**
   - å¥åº·æ£€æŸ¥æ­£å¸¸
   - æ‰€æœ‰ç«¯ç‚¹å“åº”
   - æ— é”™è¯¯æ—¥å¿—

2. âœ… **RAGæ ¸å¿ƒåŠŸèƒ½**
   - 4ä¸ªæ–‡æ¡£å·²ç´¢å¼•
   - 384ç»´å‘é‡
   - è¯­ä¹‰æœç´¢å¯ç”¨

3. âœ… **çŸ¥è¯†å›¾è°±**
   - å›¾è°±æœåŠ¡æ­£å¸¸
   - æ”¯æŒCRUDæ“ä½œ
   - å¾…å¯¼å…¥æ•°æ®

4. âœ… **APIå®Œæ•´æ€§**
   - 28ä¸ªç«¯ç‚¹
   - RESTfulè®¾è®¡
   - æ–‡æ¡£å®Œå–„

---

## ğŸ“‹ å¾…ä½“éªŒåŠŸèƒ½

### éœ€è¦æµ‹è¯•æ•°æ®

ä»¥ä¸‹åŠŸèƒ½éœ€è¦å…ˆå¯¼å…¥æ•°æ®ï¼š

1. **RAGæœç´¢** â†’ éœ€è¦æ›´å¤šæ–‡æ¡£
2. **çŸ¥è¯†å›¾è°±æŸ¥è¯¢** â†’ éœ€è¦å›¾æ•°æ®
3. **ä¸“å®¶å’¨è¯¢** â†’ éœ€è¦ä¸“ä¸šæ–‡æ¡£
4. **æ‰¹é‡æ“ä½œ** â†’ éœ€è¦å¤§é‡æ•°æ®

### å‡†å¤‡æµ‹è¯•æ•°æ®

```bash
# åœ¨å·¥ä½œåŒºåˆ›å»ºæµ‹è¯•æ–‡æ¡£
mkdir -p /Users/ywc/ai-stack-super-enhanced/test_data

# åˆ›å»ºç¤ºä¾‹æ–‡æ¡£
cat > /Users/ywc/ai-stack-super-enhanced/test_data/ai_intro.txt << 'EOF'
äººå·¥æ™ºèƒ½ï¼ˆArtificial Intelligenceï¼Œç®€ç§°AIï¼‰æ˜¯è®¡ç®—æœºç§‘å­¦çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œ
è‡´åŠ›äºå¼€å‘èƒ½å¤Ÿæ‰§è¡Œé€šå¸¸éœ€è¦äººç±»æ™ºèƒ½çš„ä»»åŠ¡çš„ç³»ç»Ÿå’Œè½¯ä»¶ã€‚
EOF

# é€šè¿‡APIå¯¼å…¥
curl -X POST http://localhost:8000/rag/ingest \
  -H "Content-Type: application/json" \
  -d '{"text": "äººå·¥æ™ºèƒ½æµ‹è¯•æ–‡æ¡£å†…å®¹..."}'
```

---

## ğŸŠ ä½“éªŒæ€»ç»“

### æœåŠ¡çŠ¶æ€ âœ…

| æŒ‡æ ‡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| **æœåŠ¡è¿è¡Œ** | ğŸŸ¢ æ­£å¸¸ | ç¨³å®šè¿è¡Œ |
| **APIå¯ç”¨æ€§** | ğŸŸ¢ 100% | 28ä¸ªç«¯ç‚¹å…¨éƒ¨å“åº” |
| **å“åº”é€Ÿåº¦** | ğŸŸ¢ å¿«é€Ÿ | <100ms |
| **æ•°æ®çŠ¶æ€** | ğŸŸ¡ éƒ¨åˆ† | æœ‰ç´¢å¼•æ•°æ®ï¼Œå›¾è°±ç©º |

### å¯ä»¥ç«‹å³åšçš„äº‹

1. âœ… **åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€**: http://localhost:8000/docs
2. âœ… **æµ‹è¯•æ‰€æœ‰GETç«¯ç‚¹**ï¼ˆæ— éœ€å‚æ•°ï¼‰
3. âœ… **æŸ¥çœ‹ç°æœ‰ç´¢å¼•æ•°æ®**
4. âœ… **å¯¼å…¥æµ‹è¯•æ–‡æ¡£**
5. âœ… **ä½“éªŒè¯­ä¹‰æœç´¢**

---

## ğŸš€ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ä»Šæ™šï¼ˆ10åˆ†é’Ÿï¼‰

```bash
# åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€APIæ–‡æ¡£
# æ‰‹åŠ¨è¾“å…¥åœ°å€
http://localhost:8000/docs
```

ç„¶åï¼š
1. æµè§ˆæ‰€æœ‰ç«¯ç‚¹
2. æµ‹è¯•å‡ ä¸ªGETç«¯ç‚¹
3. å°è¯•å¯¼å…¥ä¸€ä¸ªæ–‡æ¡£

### æ˜å¤©ï¼ˆDay 1ï¼‰

1. å‡†å¤‡çœŸå®æ•°æ®
2. æ‰¹é‡å¯¼å…¥æ–‡æ¡£
3. æ„å»ºçŸ¥è¯†å›¾è°±
4. é›†æˆv2.6.0æ–°åŠŸèƒ½

---

## ğŸ“š å¸®åŠ©æ–‡æ¡£

### å·²åˆ›å»ºçš„æŒ‡å—

1. **ğŸ®å¿«é€Ÿä½“éªŒæŒ‡å—-APIæµ‹è¯•.md** â­
   - è¯¦ç»†çš„APIä½¿ç”¨è¯´æ˜
   - æµ‹è¯•åœºæ™¯å’Œç¤ºä¾‹
   - æ•…éšœæ’æŸ¥

2. **ğŸ‰AI-Stackéƒ¨ç½²æˆåŠŸ-2025-11-08.md**
   - å®Œæ•´éƒ¨ç½²æŠ¥å‘Š
   - è®¿é—®ä¿¡æ¯

3. **ğŸ†éƒ¨ç½²å®Œæˆæ€»ç»“-2025-11-08.md**
   - ä»Šæ—¥æˆæœ
   - æŠ€æœ¯äº®ç‚¹

### åœ¨çº¿æ–‡æ¡£

- **APIæ–‡æ¡£**: http://localhost:8000/docs
- **OpenAPIè§„èŒƒ**: http://localhost:8000/openapi.json

---

## ğŸ’¬ éœ€è¦å¸®åŠ©ï¼Ÿ

### å¸¸è§é—®é¢˜

**Q: å¦‚ä½•æ‰“å¼€APIæ–‡æ¡£ï¼Ÿ**
A: åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ `http://localhost:8000/docs`

**Q: å¦‚ä½•æµ‹è¯•APIï¼Ÿ**
A: åœ¨APIæ–‡æ¡£é¡µé¢ç‚¹å‡»ç«¯ç‚¹ â†’ "Try it out" â†’ "Execute"

**Q: å¦‚ä½•å¯¼å…¥æ–‡æ¡£ï¼Ÿ**
A: ä½¿ç”¨ `/rag/ingest` æˆ– `/rag/ingest_file` ç«¯ç‚¹

**Q: å¦‚ä½•åœæ­¢æœåŠ¡ï¼Ÿ**
A: `pkill -f "uvicorn api.app:app"`

---

## ğŸ¯ æ€»ç»“

### âœ… éƒ¨ç½²æˆåŠŸ

- æœåŠ¡æ­£å¸¸è¿è¡Œ
- 28ä¸ªAPIç«¯ç‚¹å¯ç”¨
- å·²æœ‰ç´¢å¼•æ•°æ®ï¼ˆ4ä¸ªæ–‡æ¡£ï¼‰
- å¥åº·æ£€æŸ¥é€šè¿‡

### ğŸ® ç«‹å³ä½“éªŒ

**æœ€ç®€å•æ–¹å¼**: 
1. æ‰“å¼€æµè§ˆå™¨
2. è®¿é—®: `http://localhost:8000/docs`
3. å¼€å§‹æµ‹è¯•ï¼

### ğŸš€ ç»§ç»­å¼€å‘

- æœåŠ¡æ”¯æŒçƒ­é‡è½½
- å¯ä»¥è¾¹å¼€å‘è¾¹æµ‹è¯•
- æ–‡æ¡£è‡ªåŠ¨æ›´æ–°

---

**ğŸŠ äº«å—æ‚¨çš„AI Stackä¹‹æ—…ï¼**

**ç«‹å³æ‰“å¼€æµè§ˆå™¨è®¿é—®**: http://localhost:8000/docs â­

