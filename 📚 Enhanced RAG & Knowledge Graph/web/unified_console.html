<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-STACK ç»Ÿä¸€æ§åˆ¶å° V4.1</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang SC", sans-serif;
            background: #f5f7fa;
            height: 100vh;
            overflow: hidden;
        }
        
        /* é¡¶éƒ¨å¯¼èˆªæ  */
        .top-nav {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .logo {
            font-size: 24px;
            font-weight: bold;
        }
        
        .nav-actions {
            display: flex;
            gap: 15px;
        }
        
        .nav-btn {
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            padding: 8px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .nav-btn:hover {
            background: rgba(255,255,255,0.3);
        }
        
        /* ä¸»å®¹å™¨ */
        .main-container {
            display: flex;
            height: calc(100vh - 60px);
        }
        
        /* å·¦ä¾§èœå• */
        .sidebar {
            width: 250px;
            background: white;
            box-shadow: 2px 0 10px rgba(0,0,0,0.05);
            overflow-y: auto;
        }
        
        .menu-section {
            padding: 20px 0;
            border-bottom: 1px solid #e8e8e8;
        }
        
        .menu-title {
            padding: 0 20px 10px;
            font-size: 12px;
            color: #999;
            text-transform: uppercase;
        }
        
        .menu-item {
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .menu-item:hover {
            background: #f5f7fa;
        }
        
        .menu-item.active {
            background: #667eea;
            color: white;
        }
        
        .menu-icon {
            font-size: 18px;
        }
        
        /* å·¥ä½œåŒº */
        .workspace {
            flex: 1;
            background: #f5f7fa;
            overflow-y: auto;
            padding: 30px;
        }
        
        .workspace-header {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .workspace-title {
            font-size: 24px;
            color: #333;
            margin-bottom: 5px;
        }
        
        .workspace-desc {
            color: #666;
            font-size: 14px;
        }
        
        .content-area {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            min-height: 500px;
        }
        
        /* è¡¨å•æ ·å¼ */
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
        }
        
        .form-input {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }
        
        /* æ•°æ®å±•ç¤ºå¡ç‰‡ */
        .data-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        
        .data-card-title {
            font-size: 14px;
            color: #666;
            margin-bottom: 10px;
        }
        
        .data-card-value {
            font-size: 28px;
            color: #333;
            font-weight: bold;
        }
        
        /* è¡¨æ ¼æ ·å¼ */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .data-table th {
            background: #f5f7fa;
            padding: 12px;
            text-align: left;
            border-bottom: 2px solid #e8e8e8;
            color: #666;
            font-weight: 500;
        }
        
        .data-table td {
            padding: 12px;
            border-bottom: 1px solid #e8e8e8;
        }
        
        .data-table tr:hover {
            background: #f9f9f9;
        }
        
        /* åŠ è½½çŠ¶æ€ */
        .loading {
            text-align: center;
            padding: 40px;
            color: #999;
        }
        
        /* é€šçŸ¥ */
        .notification {
            position: fixed;
            top: 80px;
            right: 30px;
            background: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
            z-index: 1000;
            display: none;
        }
        
        .notification.show {
            display: block;
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        .notification.success {
            border-left: 4px solid #52c41a;
        }
        
        .notification.error {
            border-left: 4px solid #ff4d4f;
        }
        
        /* éšè—å†…å®¹ */
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <div class="top-nav">
        <div class="logo">ğŸš€ AI-STACK V3.3 ç»Ÿä¸€æ§åˆ¶å°</div>
        <div class="nav-actions">
            <button class="nav-btn" onclick="window.open('/docs', '_blank')">ğŸ“– APIæ–‡æ¡£</button>
            <button class="nav-btn" onclick="window.open('/guide', '_blank')">ğŸ“š å¸®åŠ©</button>
            <button class="nav-btn" onclick="checkHealth()">ğŸ¥ å¥åº·æ£€æŸ¥</button>
        </div>
    </div>
    
    <!-- ä¸»å®¹å™¨ -->
    <div class="main-container">
        <!-- å·¦ä¾§èœå• -->
        <div class="sidebar">
            <!-- æ ¸å¿ƒåŠŸèƒ½ -->
            <div class="menu-section">
                <div class="menu-title">æ ¸å¿ƒåŠŸèƒ½</div>
                <div class="menu-item active" onclick="showModule('dashboard')">
                    <span class="menu-icon">ğŸ </span>
                    <span>æ§åˆ¶å°é¦–é¡µ</span>
                </div>
                <div class="menu-item" onclick="showModule('rag')">
                    <span class="menu-icon">ğŸ“š</span>
                    <span>RAGçŸ¥è¯†åº“</span>
                </div>
            </div>
            
            <!-- ä¸šåŠ¡ç®¡ç† -->
            <div class="menu-section">
                <div class="menu-title">ä¸šåŠ¡ç®¡ç†</div>
                <div class="menu-item" onclick="showModule('finance')">
                    <span class="menu-icon">ğŸ’°</span>
                    <span>è´¢åŠ¡ç®¡ç†</span>
                </div>
                <div class="menu-item" onclick="showModule('operations')">
                    <span class="menu-icon">âš™ï¸</span>
                    <span>è¿è¥ç®¡ç†</span>
                </div>
                <div class="menu-item" onclick="showModule('erp')">
                    <span class="menu-icon">ğŸ­</span>
                    <span>ERPç³»ç»Ÿ</span>
                </div>
            </div>
            
            <!-- ä¸šåŠ¡æ™ºèƒ½ -->
            <div class="menu-section">
                <div class="menu-title">ä¸šåŠ¡æ™ºèƒ½</div>
                <div class="menu-item" onclick="showModule('stock')">
                    <span class="menu-icon">ğŸ“ˆ</span>
                    <span>è‚¡ç¥¨äº¤æ˜“</span>
                </div>
                <div class="menu-item" onclick="showModule('content')">
                    <span class="menu-icon">âœï¸</span>
                    <span>å†…å®¹åˆ›ä½œ</span>
                </div>
                <div class="menu-item" onclick="showModule('trend')">
                    <span class="menu-icon">ğŸ“Š</span>
                    <span>è¶‹åŠ¿åˆ†æ</span>
                </div>
            </div>
            
            <!-- æ™ºèƒ½ç³»ç»Ÿ -->
            <div class="menu-section">
                <div class="menu-title">æ™ºèƒ½ç³»ç»Ÿ</div>
                <div class="menu-item" onclick="window.open('/agent', '_blank')" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white;">
                    <span class="menu-icon">ğŸ¤–</span>
                    <span>æ™ºèƒ½Agent â­</span>
                </div>
                <div class="menu-item" onclick="showModule('interaction')">
                    <span class="menu-icon">ğŸ’¬</span>
                    <span>AIäº¤äº’</span>
                </div>
                <div class="menu-item" onclick="showModule('task')">
                    <span class="menu-icon">ğŸ“‹</span>
                    <span>æ™ºèƒ½ä»»åŠ¡</span>
                </div>
                <div class="menu-item" onclick="showModule('enhancements')">
                    <span class="menu-icon">âœ¨</span>
                    <span>å¢å¼ºåŠŸèƒ½</span>
                </div>
                <div class="menu-item" onclick="showModule('llm')">
                    <span class="menu-icon">ğŸ¤–</span>
                    <span>LLMåŠ©æ‰‹</span>
                </div>
            </div>
        </div>
        
        <!-- å·¥ä½œåŒº -->
        <div class="workspace">
            <!-- å·¥ä½œåŒºå¤´éƒ¨ -->
            <div class="workspace-header">
                <div class="workspace-title" id="workspace-title">æ§åˆ¶å°é¦–é¡µ</div>
                <div class="workspace-desc" id="workspace-desc">AI-STACKç»Ÿä¸€ç®¡ç†æ§åˆ¶å°</div>
            </div>
            
            <!-- å†…å®¹åŒºåŸŸ -->
            <div class="content-area" id="content-area">
                <!-- å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
                <div id="dashboard-content">
                    <h2>ğŸ  æ¬¢è¿ä½¿ç”¨AI-STACKç»Ÿä¸€æ§åˆ¶å°</h2>
                    <p>è¯·ä»å·¦ä¾§èœå•é€‰æ‹©åŠŸèƒ½æ¨¡å—</p>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 30px;">
                        <div class="data-card">
                            <div class="data-card-title">æ€»æ¨¡å—æ•°</div>
                            <div class="data-card-value">15</div>
                        </div>
                        <div class="data-card">
                            <div class="data-card-title">APIç«¯ç‚¹</div>
                            <div class="data-card-value">226+</div>
                        </div>
                        <div class="data-card">
                            <div class="data-card-title">åŠŸèƒ½é¡¹æ•°</div>
                            <div class="data-card-value">121+</div>
                        </div>
                        <div class="data-card">
                            <div class="data-card-title">ç³»ç»ŸçŠ¶æ€</div>
                            <div class="data-card-value" style="color: #52c41a;">ğŸŸ¢</div>
                        </div>
                    </div>
                </div>
                
                <!-- å…¶ä»–æ¨¡å—å†…å®¹åŒºåŸŸï¼ˆéšè—ï¼‰ -->
                <div id="rag-content" class="hidden"></div>
                <div id="finance-content" class="hidden"></div>
                <div id="operations-content" class="hidden"></div>
                <div id="erp-content" class="hidden"></div>
                <div id="stock-content" class="hidden"></div>
                <div id="content-content" class="hidden"></div>
                <div id="trend-content" class="hidden"></div>
                <div id="interaction-content" class="hidden"></div>
                <div id="task-content" class="hidden"></div>
                <div id="enhancements-content" class="hidden"></div>
                <div id="llm-content" class="hidden"></div>
            </div>
        </div>
    </div>
    
    <!-- é€šçŸ¥ç»„ä»¶ -->
    <div class="notification" id="notification"></div>
    
    <script>
        // APIåŸºç¡€URL
        const API_BASE = '';
        
        // å½“å‰æ¨¡å—
        let currentModule = 'dashboard';
        
        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type} show`;
            setTimeout(() => {
                notification.className = 'notification';
            }, 3000);
        }
        
        // APIè°ƒç”¨å°è£…
        async function callAPI(endpoint, method = 'GET', data = null) {
            try {
                const options = {
                    method: method,
                    headers: {
                        'Content-Type': 'application/json'
                    }
                };
                
                if (data && method !== 'GET') {
                    options.body = JSON.stringify(data);
                }
                
                const response = await fetch(API_BASE + endpoint, options);
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
                
                return await response.json();
            } catch (error) {
                console.error('APIè°ƒç”¨å¤±è´¥:', error);
                showNotification(`APIè°ƒç”¨å¤±è´¥: ${error.message}`, 'error');
                throw error;
            }
        }
        
        // æ˜¾ç¤ºæ¨¡å—
        function showModule(moduleName) {
            // æ›´æ–°èœå•çŠ¶æ€
            document.querySelectorAll('.menu-item').forEach(item => {
                item.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            // éšè—æ‰€æœ‰å†…å®¹
            document.querySelectorAll('[id$="-content"]').forEach(content => {
                content.classList.add('hidden');
            });
            
            // æ˜¾ç¤ºå¯¹åº”å†…å®¹
            const contentId = `${moduleName}-content`;
            const contentArea = document.getElementById(contentId);
            if (contentArea) {
                contentArea.classList.remove('hidden');
            }
            
            // æ›´æ–°æ ‡é¢˜
            const titles = {
                'dashboard': 'æ§åˆ¶å°é¦–é¡µ',
                'rag': 'RAGçŸ¥è¯†åº“',
                'finance': 'è´¢åŠ¡ç®¡ç†',
                'operations': 'è¿è¥ç®¡ç†',
                'erp': 'ERPç³»ç»Ÿ',
                'stock': 'è‚¡ç¥¨äº¤æ˜“',
                'content': 'å†…å®¹åˆ›ä½œ',
                'trend': 'è¶‹åŠ¿åˆ†æ',
                'interaction': 'AIäº¤äº’ä¸­å¿ƒ',
                'task': 'æ™ºèƒ½ä»»åŠ¡',
                'enhancements': 'å¢å¼ºåŠŸèƒ½',
                'llm': 'LLMåŠ©æ‰‹'
            };
            
            document.getElementById('workspace-title').textContent = titles[moduleName] || moduleName;
            
            // åŠ è½½æ¨¡å—æ•°æ®
            loadModuleData(moduleName);
        }
        
        // åŠ è½½æ¨¡å—æ•°æ®
        async function loadModuleData(moduleName) {
            const contentArea = document.getElementById(`${moduleName}-content`);
            if (!contentArea) return;
            
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            contentArea.innerHTML = '<div class="loading">â³ åŠ è½½ä¸­...</div>';
            
            try {
                switch(moduleName) {
                    case 'dashboard':
                        // é¦–é¡µå·²æœ‰é™æ€å†…å®¹
                        break;
                    case 'rag':
                        await loadRAGModule(contentArea);
                        break;
                    case 'finance':
                        await loadFinanceModule(contentArea);
                        break;
                    case 'stock':
                        await loadStockModule(contentArea);
                        break;
                    case 'enhancements':
                        await loadEnhancementsModule(contentArea);
                        break;
                    case 'llm':
                        await loadLLMModule(contentArea);
                        break;
                    case 'operations':
                        await loadOperationsModule(contentArea);
                        break;
                    case 'erp':
                        await loadERPModule(contentArea);
                        break;
                    case 'content':
                        await loadContentModule(contentArea);
                        break;
                    case 'trend':
                        await loadTrendModule(contentArea);
                        break;
                    case 'interaction':
                        await loadInteractionModule(contentArea);
                        break;
                    case 'task':
                        await loadTaskModule(contentArea);
                        break;
                    default:
                        contentArea.innerHTML = `<h3>${moduleName}æ¨¡å—</h3><p>åŠŸèƒ½å¼€å‘ä¸­...</p>`;
                }
            } catch (error) {
                contentArea.innerHTML = `<div class="error">åŠ è½½å¤±è´¥: ${error.message}</div>`;
            }
        }
        
        // åŠ è½½RAGæ¨¡å—
        async function loadRAGModule(container) {
            container.innerHTML = `
                <h2>ğŸ“š RAGçŸ¥è¯†åº“ç®¡ç†</h2>
                
                <div class="form-group">
                    <label class="form-label">æœç´¢çŸ¥è¯†åº“</label>
                    <input type="text" class="form-input" id="rag-search-query" placeholder="è¾“å…¥æœç´¢å…³é”®è¯...">
                    <button class="btn btn-primary" onclick="searchRAG()" style="margin-top: 10px;">ğŸ” æœç´¢</button>
                </div>
                
                <div id="rag-results" style="margin-top: 20px;"></div>
            `;
        }
        
        // RAGæœç´¢
        async function searchRAG() {
            const query = document.getElementById('rag-search-query').value;
            if (!query) {
                showNotification('è¯·è¾“å…¥æœç´¢å…³é”®è¯', 'error');
                return;
            }
            
            const resultsDiv = document.getElementById('rag-results');
            resultsDiv.innerHTML = '<div class="loading">ğŸ” æœç´¢ä¸­...</div>';
            
            try {
                const data = await callAPI(`/rag/search?query=${encodeURIComponent(query)}&top_k=5`);
                
                let html = '<h3>æœç´¢ç»“æœï¼š</h3>';
                if (data.results && data.results.length > 0) {
                    html += '<table class="data-table"><thead><tr><th>å†…å®¹</th><th>ç›¸ä¼¼åº¦</th></tr></thead><tbody>';
                    data.results.forEach(result => {
                        html += `<tr><td>${result.text || result.content || 'æ— å†…å®¹'}</td><td>${(result.score || 0).toFixed(3)}</td></tr>`;
                    });
                    html += '</tbody></table>';
                } else {
                    html += '<p>æœªæ‰¾åˆ°ç›¸å…³ç»“æœ</p>';
                }
                
                resultsDiv.innerHTML = html;
                showNotification('æœç´¢å®Œæˆï¼');
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">æœç´¢å¤±è´¥: ${error.message}</p>`;
            }
        }
        
        // åŠ è½½è´¢åŠ¡æ¨¡å—
        async function loadFinanceModule(container) {
            container.innerHTML = `
                <h2>ğŸ’° è´¢åŠ¡ç®¡ç†</h2>
                
                <button class="btn btn-primary" onclick="loadFinanceDashboard()">ğŸ“Š æŸ¥çœ‹è´¢åŠ¡çœ‹æ¿</button>
                <button class="btn btn-primary" onclick="analyzeProfit()" style="margin-left: 10px;">ğŸ“ˆ ç›ˆäºåˆ†æ</button>
                
                <div id="finance-results" style="margin-top: 20px;"></div>
            `;
        }
        
        // åŠ è½½è´¢åŠ¡çœ‹æ¿
        async function loadFinanceDashboard() {
            const resultsDiv = document.getElementById('finance-results');
            resultsDiv.innerHTML = '<div class="loading">ğŸ“Š åŠ è½½ä¸­...</div>';
            
            try {
                const data = await callAPI('/finance/dashboard');
                
                let html = '<h3>è´¢åŠ¡çœ‹æ¿</h3>';
                html += '<div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">';
                html += `<div class="data-card"><div class="data-card-title">æ€»æ”¶å…¥</div><div class="data-card-value">Â¥${(data.revenue || 0).toLocaleString()}</div></div>`;
                html += `<div class="data-card"><div class="data-card-title">æ€»æ”¯å‡º</div><div class="data-card-value">Â¥${(data.expenses || 0).toLocaleString()}</div></div>`;
                html += `<div class="data-card"><div class="data-card-title">åˆ©æ¶¦</div><div class="data-card-value" style="color: ${data.profit > 0 ? '#52c41a' : '#ff4d4f'};">Â¥${(data.profit || 0).toLocaleString()}</div></div>`;
                html += '</div>';
                
                resultsDiv.innerHTML = html;
                showNotification('è´¢åŠ¡çœ‹æ¿åŠ è½½æˆåŠŸï¼');
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">åŠ è½½å¤±è´¥: ${error.message}</p>`;
            }
        }
        
        // ç›ˆäºåˆ†æ
        async function analyzeProfit() {
            const resultsDiv = document.getElementById('finance-results');
            resultsDiv.innerHTML = '<div class="loading">ğŸ“ˆ åˆ†æä¸­...</div>';
            
            try {
                const data = await callAPI('/finance/analysis/profit?period=monthly');
                resultsDiv.innerHTML = `<pre>${JSON.stringify(data, null, 2)}</pre>`;
                showNotification('åˆ†æå®Œæˆï¼');
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">åˆ†æå¤±è´¥: ${error.message}</p>`;
            }
        }
        
        // åŠ è½½è‚¡ç¥¨æ¨¡å—
        async function loadStockModule(container) {
            container.innerHTML = `
                <h2>ğŸ“ˆ è‚¡ç¥¨äº¤æ˜“ç³»ç»Ÿ</h2>
                
                <div class="form-group">
                    <label class="form-label">è‚¡ç¥¨ä»£ç </label>
                    <input type="text" class="form-input" id="stock-code" placeholder="è¾“å…¥è‚¡ç¥¨ä»£ç ï¼ˆå¦‚ï¼š000001ï¼‰" value="000001">
                </div>
                
                <div class="form-group">
                    <label class="form-label">å¸‚åœº</label>
                    <select class="form-input" id="stock-market">
                        <option value="A">Aè‚¡</option>
                        <option value="B">Bè‚¡</option>
                        <option value="H">Hè‚¡</option>
                    </select>
                </div>
                
                <button class="btn btn-primary" onclick="getStockData()">ğŸ“Š è·å–å®æ—¶æ•°æ®</button>
                <button class="btn btn-primary" onclick="getPortfolio()" style="margin-left: 10px;">ğŸ’¼ æŸ¥çœ‹æŠ•èµ„ç»„åˆ</button>
                
                <div id="stock-results" style="margin-top: 20px;"></div>
            `;
        }
        
        // è·å–è‚¡ç¥¨æ•°æ®
        async function getStockData() {
            const code = document.getElementById('stock-code').value;
            const market = document.getElementById('stock-market').value;
            const resultsDiv = document.getElementById('stock-results');
            
            if (!code) {
                showNotification('è¯·è¾“å…¥è‚¡ç¥¨ä»£ç ', 'error');
                return;
            }
            
            resultsDiv.innerHTML = '<div class="loading">ğŸ“Š è·å–ä¸­...</div>';
            
            try {
                const data = await callAPI(`/stock/data/${code}?market=${market}`);
                
                let html = '<h3>è‚¡ç¥¨æ•°æ®</h3>';
                html += `<div class="data-card"><pre>${JSON.stringify(data, null, 2)}</pre></div>`;
                
                resultsDiv.innerHTML = html;
                showNotification('æ•°æ®è·å–æˆåŠŸï¼');
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">è·å–å¤±è´¥: ${error.message}</p>`;
            }
        }
        
        // è·å–æŠ•èµ„ç»„åˆ
        async function getPortfolio() {
            const resultsDiv = document.getElementById('stock-results');
            resultsDiv.innerHTML = '<div class="loading">ğŸ’¼ åŠ è½½ä¸­...</div>';
            
            try {
                const data = await callAPI('/stock/portfolio');
                resultsDiv.innerHTML = `<h3>æŠ•èµ„ç»„åˆ</h3><div class="data-card"><pre>${JSON.stringify(data, null, 2)}</pre></div>`;
                showNotification('æŠ•èµ„ç»„åˆåŠ è½½æˆåŠŸï¼');
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">åŠ è½½å¤±è´¥: ${error.message}</p>`;
            }
        }
        
        // åŠ è½½å¢å¼ºåŠŸèƒ½æ¨¡å—
        async function loadEnhancementsModule(container) {
            container.innerHTML = `
                <h2>âœ¨ V3.1å¢å¼ºåŠŸèƒ½</h2>
                
                <div class="form-group">
                    <label class="form-label">ç¿»è¯‘æ–‡æœ¬</label>
                    <textarea class="form-input" id="translate-text" rows="3" placeholder="è¾“å…¥è¦ç¿»è¯‘çš„æ–‡æœ¬..."></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">ç›®æ ‡è¯­è¨€</label>
                    <select class="form-input" id="target-lang">
                        <option value="en">English</option>
                        <option value="ja">æ—¥æœ¬èª</option>
                        <option value="ko">í•œêµ­ì–´</option>
                        <option value="fr">FranÃ§ais</option>
                        <option value="de">Deutsch</option>
                    </select>
                </div>
                
                <button class="btn btn-primary" onclick="translateText()">ğŸŒ ç¿»è¯‘</button>
                
                <div id="translate-results" style="margin-top: 20px;"></div>
            `;
        }
        
        // ç¿»è¯‘æ–‡æœ¬
        async function translateText() {
            const text = document.getElementById('translate-text').value;
            const targetLang = document.getElementById('target-lang').value;
            const resultsDiv = document.getElementById('translate-results');
            
            if (!text) {
                showNotification('è¯·è¾“å…¥è¦ç¿»è¯‘çš„æ–‡æœ¬', 'error');
                return;
            }
            
            resultsDiv.innerHTML = '<div class="loading">ğŸŒ ç¿»è¯‘ä¸­...</div>';
            
            try {
                const data = await callAPI('/enhancements/translate', 'POST', {
                    text: text,
                    source_lang: 'auto',
                    target_lang: targetLang
                });
                
                resultsDiv.innerHTML = `
                    <h3>ç¿»è¯‘ç»“æœï¼š</h3>
                    <div class="data-card">
                        <div><strong>åŸæ–‡ï¼š</strong> ${data.source_text}</div>
                        <div style="margin-top: 10px;"><strong>è¯‘æ–‡ï¼š</strong> ${data.translated_text}</div>
                    </div>
                `;
                showNotification('ç¿»è¯‘å®Œæˆï¼');
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">ç¿»è¯‘å¤±è´¥: ${error.message}</p>`;
            }
        }
        
        // åŠ è½½LLMæ¨¡å—
        async function loadLLMModule(container) {
            container.innerHTML = `
                <h2>ğŸ¤– LLMæ™ºèƒ½åŠ©æ‰‹</h2>
                
                <div class="form-group">
                    <label class="form-label">å¯¹è¯æ¶ˆæ¯</label>
                    <textarea class="form-input" id="llm-message" rows="4" placeholder="è¾“å…¥æ‚¨çš„é—®é¢˜..."></textarea>
                </div>
                
                <button class="btn btn-primary" onclick="chatWithLLM()">ğŸ’¬ å‘é€</button>
                
                <div id="llm-results" style="margin-top: 20px;"></div>
            `;
        }
        
        // LLMå¯¹è¯
        async function chatWithLLM() {
            const message = document.getElementById('llm-message').value;
            const resultsDiv = document.getElementById('llm-results');
            
            if (!message) {
                showNotification('è¯·è¾“å…¥æ¶ˆæ¯', 'error');
                return;
            }
            
            resultsDiv.innerHTML = '<div class="loading">ğŸ¤– æ€è€ƒä¸­...</div>';
            
            try {
                const data = await callAPI('/llm/chat', 'POST', {
                    messages: [{"role": "user", "content": message}]
                });
                
                resultsDiv.innerHTML = `
                    <h3>AIå›å¤ï¼š</h3>
                    <div class="data-card">
                        ${data.content}
                        <div style="margin-top: 10px; font-size: 12px; color: #999;">
                            æ¥æº: ${data.source} | æ¨¡å‹: ${data.model}
                        </div>
                    </div>
                `;
                showNotification('å¯¹è¯å®Œæˆï¼');
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">å¯¹è¯å¤±è´¥: ${error.message}</p>`;
            }
        }
        
        // å¥åº·æ£€æŸ¥
        async function checkHealth() {
            try {
                const data = await callAPI('/health');
                showNotification(`ç³»ç»ŸçŠ¶æ€: ${data.status}`, 'success');
            } catch (error) {
                showNotification('å¥åº·æ£€æŸ¥å¤±è´¥', 'error');
            }
        }
        
        // åŠ è½½è¿è¥ç®¡ç†æ¨¡å—
        async function loadOperationsModule(container) {
            container.innerHTML = `
                <h2>âš™ï¸ è¿è¥ç®¡ç†ç³»ç»Ÿ</h2>
                
                <button class="btn btn-primary" onclick="loadOperationsDashboard()">ğŸ“Š è¿è¥çœ‹æ¿</button>
                <button class="btn btn-primary" onclick="getProcesses()" style="margin-left: 10px;">ğŸ”„ æŸ¥çœ‹æµç¨‹</button>
                <button class="btn btn-primary" onclick="getOperationsStats()" style="margin-left: 10px;">ğŸ“ˆ ç»Ÿè®¡æ•°æ®</button>
                
                <div id="operations-results" style="margin-top: 20px;"></div>
            `;
        }
        
        async function loadOperationsDashboard() {
            const resultsDiv = document.getElementById('operations-results');
            resultsDiv.innerHTML = '<div class="loading">ğŸ“Š åŠ è½½ä¸­...</div>';
            try {
                const data = await callAPI('/operations/dashboard');
                resultsDiv.innerHTML = `<h3>è¿è¥çœ‹æ¿</h3><div class="data-card"><pre>${JSON.stringify(data, null, 2)}</pre></div>`;
                showNotification('è¿è¥çœ‹æ¿åŠ è½½æˆåŠŸï¼');
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">åŠ è½½å¤±è´¥: ${error.message}</p>`;
            }
        }
        
        async function getProcesses() {
            const resultsDiv = document.getElementById('operations-results');
            resultsDiv.innerHTML = '<div class="loading">ğŸ”„ åŠ è½½ä¸­...</div>';
            try {
                const data = await callAPI('/operations/processes');
                let html = '<h3>ä¸šåŠ¡æµç¨‹åˆ—è¡¨</h3><table class="data-table"><thead><tr><th>æµç¨‹åç§°</th><th>çŠ¶æ€</th><th>è¿›åº¦</th></tr></thead><tbody>';
                if (data.processes && data.processes.length > 0) {
                    data.processes.forEach(p => {
                        html += `<tr><td>${p.name || 'æœªå‘½å'}</td><td>${p.status || 'æœªçŸ¥'}</td><td>${p.progress || 0}%</td></tr>`;
                    });
                } else {
                    html += '<tr><td colspan="3">æš‚æ— æµç¨‹æ•°æ®</td></tr>';
                }
                html += '</tbody></table>';
                resultsDiv.innerHTML = html;
                showNotification('æµç¨‹æ•°æ®åŠ è½½æˆåŠŸï¼');
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">åŠ è½½å¤±è´¥: ${error.message}</p>`;
            }
        }
        
        async function getOperationsStats() {
            const resultsDiv = document.getElementById('operations-results');
            resultsDiv.innerHTML = '<div class="loading">ğŸ“ˆ åŠ è½½ä¸­...</div>';
            try {
                const data = await callAPI('/operations/statistics?period=month');
                resultsDiv.innerHTML = `<h3>ç»Ÿè®¡æ•°æ®</h3><div class="data-card"><pre>${JSON.stringify(data, null, 2)}</pre></div>`;
                showNotification('ç»Ÿè®¡æ•°æ®åŠ è½½æˆåŠŸï¼');
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">åŠ è½½å¤±è´¥: ${error.message}</p>`;
            }
        }
        
        // åŠ è½½ERPæ¨¡å—
        async function loadERPModule(container) {
            container.innerHTML = `
                <h2>ğŸ­ ERPé›†æˆç³»ç»Ÿ</h2>
                
                <button class="btn btn-primary" onclick="getERPStats()">ğŸ“Š ERPç»Ÿè®¡</button>
                <button class="btn btn-primary" onclick="getCustomers()" style="margin-left: 10px;">ğŸ‘¥ å®¢æˆ·åˆ—è¡¨</button>
                <button class="btn btn-primary" onclick="getOrders()" style="margin-left: 10px;">ğŸ“¦ è®¢å•åˆ—è¡¨</button>
                
                <div style="margin-top: 20px;">
                    <h3>åˆ›å»ºè®¢å•</h3>
                    <div class="form-group">
                        <label class="form-label">å®¢æˆ·ID</label>
                        <input type="text" class="form-input" id="erp-customer-id" placeholder="customer_xxx">
                    </div>
                    <div class="form-group">
                        <label class="form-label">äº§å“åç§°</label>
                        <input type="text" class="form-input" id="erp-product" placeholder="äº§å“A">
                    </div>
                    <div class="form-group">
                        <label class="form-label">æ•°é‡</label>
                        <input type="number" class="form-input" id="erp-quantity" placeholder="100">
                    </div>
                    <button class="btn btn-primary" onclick="createOrder()">â• åˆ›å»ºè®¢å•</button>
                </div>
                
                <div id="erp-results" style="margin-top: 20px;"></div>
            `;
        }
        
        async function getERPStats() {
            const resultsDiv = document.getElementById('erp-results');
            resultsDiv.innerHTML = '<div class="loading">ğŸ“Š åŠ è½½ä¸­...</div>';
            try {
                const data = await callAPI('/erp/stats');
                resultsDiv.innerHTML = `<h3>ERPç»Ÿè®¡</h3><div class="data-card"><pre>${JSON.stringify(data, null, 2)}</pre></div>`;
                showNotification('ERPç»Ÿè®¡åŠ è½½æˆåŠŸï¼');
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">åŠ è½½å¤±è´¥: ${error.message}</p>`;
            }
        }
        
        async function getCustomers() {
            const resultsDiv = document.getElementById('erp-results');
            resultsDiv.innerHTML = '<div class="loading">ğŸ‘¥ åŠ è½½ä¸­...</div>';
            try {
                const data = await callAPI('/erp/customers');
                resultsDiv.innerHTML = `<h3>å®¢æˆ·åˆ—è¡¨</h3><div class="data-card"><pre>${JSON.stringify(data, null, 2)}</pre></div>`;
                showNotification('å®¢æˆ·æ•°æ®åŠ è½½æˆåŠŸï¼');
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">åŠ è½½å¤±è´¥: ${error.message}</p>`;
            }
        }
        
        async function getOrders() {
            const resultsDiv = document.getElementById('erp-results');
            resultsDiv.innerHTML = '<div class="loading">ğŸ“¦ åŠ è½½ä¸­...</div>';
            try {
                const data = await callAPI('/erp/orders');
                resultsDiv.innerHTML = `<h3>è®¢å•åˆ—è¡¨</h3><div class="data-card"><pre>${JSON.stringify(data, null, 2)}</pre></div>`;
                showNotification('è®¢å•æ•°æ®åŠ è½½æˆåŠŸï¼');
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">åŠ è½½å¤±è´¥: ${error.message}</p>`;
            }
        }
        
        async function createOrder() {
            const customerId = document.getElementById('erp-customer-id').value;
            const product = document.getElementById('erp-product').value;
            const quantity = document.getElementById('erp-quantity').value;
            
            if (!customerId || !product || !quantity) {
                showNotification('è¯·å¡«å†™æ‰€æœ‰å­—æ®µ', 'error');
                return;
            }
            
            const resultsDiv = document.getElementById('erp-results');
            resultsDiv.innerHTML = '<div class="loading">â• åˆ›å»ºä¸­...</div>';
            
            try {
                const data = await callAPI('/erp/orders', 'POST', {
                    customer_id: customerId,
                    order_no: `ORD${Date.now()}`,
                    product_name: product,
                    quantity: parseInt(quantity),
                    unit_price: 100,
                    order_date: new Date().toISOString().split('T')[0]
                });
                resultsDiv.innerHTML = `<h3>è®¢å•åˆ›å»ºæˆåŠŸ</h3><div class="data-card"><pre>${JSON.stringify(data, null, 2)}</pre></div>`;
                showNotification('è®¢å•åˆ›å»ºæˆåŠŸï¼');
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">åˆ›å»ºå¤±è´¥: ${error.message}</p>`;
            }
        }
        
        // åŠ è½½å†…å®¹åˆ›ä½œæ¨¡å—
        async function loadContentModule(container) {
            container.innerHTML = `
                <h2>âœï¸ å†…å®¹åˆ›ä½œç³»ç»Ÿ</h2>
                
                <div class="form-group">
                    <label class="form-label">å†…å®¹æ ‡é¢˜</label>
                    <input type="text" class="form-input" id="content-title" placeholder="è¾“å…¥æ ‡é¢˜...">
                </div>
                
                <div class="form-group">
                    <label class="form-label">å†…å®¹æ­£æ–‡</label>
                    <textarea class="form-input" id="content-body" rows="5" placeholder="è¾“å…¥å†…å®¹..."></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">å‘å¸ƒå¹³å°</label>
                    <select class="form-input" id="content-platform">
                        <option value="xiaohongshu">å°çº¢ä¹¦</option>
                        <option value="douyin">æŠ–éŸ³</option>
                        <option value="zhihu">çŸ¥ä¹</option>
                        <option value="toutiao">å¤´æ¡</option>
                    </select>
                </div>
                
                <button class="btn btn-primary" onclick="createContent()">âœï¸ åˆ›å»ºå†…å®¹</button>
                <button class="btn btn-primary" onclick="collectMaterial()" style="margin-left: 10px;">ğŸ” æ”¶é›†ç´ æ</button>
                <button class="btn btn-primary" onclick="getContentList()" style="margin-left: 10px;">ğŸ“‹ å†…å®¹åˆ—è¡¨</button>
                
                <div id="content-results" style="margin-top: 20px;"></div>
            `;
        }
        
        async function createContent() {
            const title = document.getElementById('content-title').value;
            const body = document.getElementById('content-body').value;
            const platform = document.getElementById('content-platform').value;
            const resultsDiv = document.getElementById('content-results');
            
            if (!title || !body) {
                showNotification('è¯·å¡«å†™æ ‡é¢˜å’Œå†…å®¹', 'error');
                return;
            }
            
            resultsDiv.innerHTML = '<div class="loading">âœï¸ åˆ›å»ºä¸­...</div>';
            
            try {
                const data = await callAPI('/content/contents', 'POST', {
                    title, body, platform
                });
                resultsDiv.innerHTML = `<h3>å†…å®¹åˆ›å»ºæˆåŠŸ</h3><div class="data-card"><pre>${JSON.stringify(data, null, 2)}</pre></div>`;
                showNotification('å†…å®¹åˆ›å»ºæˆåŠŸï¼');
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">åˆ›å»ºå¤±è´¥: ${error.message}</p>`;
            }
        }
        
        async function collectMaterial() {
            const resultsDiv = document.getElementById('content-results');
            resultsDiv.innerHTML = '<div class="loading">ğŸ” æ”¶é›†ä¸­...</div>';
            try {
                const data = await callAPI('/content/materials/collect-web', 'POST', {
                    keywords: ['AI', 'ç§‘æŠ€', 'åˆ›æ–°']
                });
                resultsDiv.innerHTML = `<h3>ç´ ææ”¶é›†ç»“æœ</h3><div class="data-card"><pre>${JSON.stringify(data, null, 2)}</pre></div>`;
                showNotification('ç´ ææ”¶é›†æˆåŠŸï¼');
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">æ”¶é›†å¤±è´¥: ${error.message}</p>`;
            }
        }
        
        async function getContentList() {
            const resultsDiv = document.getElementById('content-results');
            resultsDiv.innerHTML = '<div class="loading">ğŸ“‹ åŠ è½½ä¸­...</div>';
            try {
                const data = await callAPI('/content/contents');
                resultsDiv.innerHTML = `<h3>å†…å®¹åˆ—è¡¨</h3><div class="data-card"><pre>${JSON.stringify(data, null, 2)}</pre></div>`;
                showNotification('å†…å®¹åˆ—è¡¨åŠ è½½æˆåŠŸï¼');
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">åŠ è½½å¤±è´¥: ${error.message}</p>`;
            }
        }
        
        // åŠ è½½è¶‹åŠ¿åˆ†ææ¨¡å—
        async function loadTrendModule(container) {
            container.innerHTML = `
                <h2>ğŸ“Š è¶‹åŠ¿åˆ†æç³»ç»Ÿ</h2>
                
                <div class="form-group">
                    <label class="form-label">åˆ†æç±»åˆ«</label>
                    <select class="form-input" id="trend-category">
                        <option value="technology">ç§‘æŠ€</option>
                        <option value="finance">é‡‘è</option>
                        <option value="policy">æ”¿ç­–</option>
                        <option value="industry">äº§ä¸š</option>
                    </select>
                </div>
                
                <button class="btn btn-primary" onclick="crawlNews()">ğŸ•·ï¸ çˆ¬å–æ–°é—»</button>
                <button class="btn btn-primary" onclick="processTrend()" style="margin-left: 10px;">âš™ï¸ å¤„ç†åˆ†æ</button>
                <button class="btn btn-primary" onclick="getTrendReports()" style="margin-left: 10px;">ğŸ“„ æŸ¥çœ‹æŠ¥å‘Š</button>
                
                <div id="trend-results" style="margin-top: 20px;"></div>
            `;
        }
        
        async function crawlNews() {
            const category = document.getElementById('trend-category').value;
            const resultsDiv = document.getElementById('trend-results');
            resultsDiv.innerHTML = '<div class="loading">ğŸ•·ï¸ çˆ¬å–ä¸­...</div>';
            try {
                const data = await callAPI('/trend/data/crawl', 'POST', {
                    category, keywords: ['æœ€æ–°', 'è¶‹åŠ¿']
                });
                resultsDiv.innerHTML = `<h3>æ–°é—»çˆ¬å–ç»“æœ</h3><div class="data-card"><pre>${JSON.stringify(data, null, 2)}</pre></div>`;
                showNotification('æ–°é—»çˆ¬å–æˆåŠŸï¼');
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">çˆ¬å–å¤±è´¥: ${error.message}</p>`;
            }
        }
        
        async function processTrend() {
            const resultsDiv = document.getElementById('trend-results');
            resultsDiv.innerHTML = '<div class="loading">âš™ï¸ å¤„ç†ä¸­...</div>';
            try {
                const data = await callAPI('/trend/analyses/process', 'POST', {});
                resultsDiv.innerHTML = `<h3>åˆ†æå¤„ç†ç»“æœ</h3><div class="data-card"><pre>${JSON.stringify(data, null, 2)}</pre></div>`;
                showNotification('åˆ†æå¤„ç†å®Œæˆï¼');
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">å¤„ç†å¤±è´¥: ${error.message}</p>`;
            }
        }
        
        async function getTrendReports() {
            const resultsDiv = document.getElementById('trend-results');
            resultsDiv.innerHTML = '<div class="loading">ğŸ“„ åŠ è½½ä¸­...</div>';
            try {
                const data = await callAPI('/trend/reports');
                resultsDiv.innerHTML = `<h3>è¶‹åŠ¿æŠ¥å‘Šåˆ—è¡¨</h3><div class="data-card"><pre>${JSON.stringify(data, null, 2)}</pre></div>`;
                showNotification('æŠ¥å‘Šåˆ—è¡¨åŠ è½½æˆåŠŸï¼');
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">åŠ è½½å¤±è´¥: ${error.message}</p>`;
            }
        }
        
        // åŠ è½½AIäº¤äº’ä¸­å¿ƒæ¨¡å—
        async function loadInteractionModule(container) {
            container.innerHTML = `
                <h2>ğŸ’¬ AIäº¤äº’ä¸­å¿ƒ</h2>
                
                <div class="form-group">
                    <label class="form-label">ç”¨æˆ·ID</label>
                    <input type="text" class="form-input" id="interaction-user-id" placeholder="user123" value="user123">
                </div>
                
                <button class="btn btn-primary" onclick="createSession()">â• åˆ›å»ºä¼šè¯</button>
                <button class="btn btn-primary" onclick="getFunctions()" style="margin-left: 10px;">ğŸ”§ å¯ç”¨åŠŸèƒ½</button>
                
                <div id="interaction-results" style="margin-top: 20px;"></div>
            `;
        }
        
        async function createSession() {
            const userId = document.getElementById('interaction-user-id').value;
            const resultsDiv = document.getElementById('interaction-results');
            resultsDiv.innerHTML = '<div class="loading">â• åˆ›å»ºä¸­...</div>';
            try {
                const data = await callAPI(`/interaction/sessions?user_id=${userId}`, 'POST');
                resultsDiv.innerHTML = `<h3>ä¼šè¯åˆ›å»ºæˆåŠŸ</h3><div class="data-card"><pre>${JSON.stringify(data, null, 2)}</pre></div>`;
                showNotification('ä¼šè¯åˆ›å»ºæˆåŠŸï¼');
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">åˆ›å»ºå¤±è´¥: ${error.message}</p>`;
            }
        }
        
        async function getFunctions() {
            const resultsDiv = document.getElementById('interaction-results');
            resultsDiv.innerHTML = '<div class="loading">ğŸ”§ åŠ è½½ä¸­...</div>';
            try {
                const data = await callAPI('/interaction/functions');
                resultsDiv.innerHTML = `<h3>å¯ç”¨åŠŸèƒ½åˆ—è¡¨</h3><div class="data-card"><pre>${JSON.stringify(data, null, 2)}</pre></div>`;
                showNotification('åŠŸèƒ½åˆ—è¡¨åŠ è½½æˆåŠŸï¼');
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">åŠ è½½å¤±è´¥: ${error.message}</p>`;
            }
        }
        
        // åŠ è½½æ™ºèƒ½ä»»åŠ¡æ¨¡å—
        async function loadTaskModule(container) {
            container.innerHTML = `
                <h2>ğŸ“‹ æ™ºèƒ½ä»»åŠ¡ç³»ç»Ÿ</h2>
                
                <div class="form-group">
                    <label class="form-label">ä»»åŠ¡æè¿°</label>
                    <textarea class="form-input" id="task-desc" rows="3" placeholder="æè¿°æ‚¨çš„ä»»åŠ¡..."></textarea>
                </div>
                
                <button class="btn btn-primary" onclick="createTask()">â• åˆ›å»ºä»»åŠ¡</button>
                <button class="btn btn-primary" onclick="getTaskList()" style="margin-left: 10px;">ğŸ“‹ ä»»åŠ¡åˆ—è¡¨</button>
                
                <div id="task-results" style="margin-top: 20px;"></div>
            `;
        }
        
        async function createTask() {
            const desc = document.getElementById('task-desc').value;
            const resultsDiv = document.getElementById('task-results');
            
            if (!desc) {
                showNotification('è¯·è¾“å…¥ä»»åŠ¡æè¿°', 'error');
                return;
            }
            
            resultsDiv.innerHTML = '<div class="loading">â• åˆ›å»ºä¸­...</div>';
            try {
                const data = await callAPI('/tasks/create', 'POST', {
                    title: desc.substring(0, 50),
                    description: desc,
                    user_id: 'user123'
                });
                resultsDiv.innerHTML = `<h3>ä»»åŠ¡åˆ›å»ºæˆåŠŸ</h3><div class="data-card"><pre>${JSON.stringify(data, null, 2)}</pre></div>`;
                showNotification('ä»»åŠ¡åˆ›å»ºæˆåŠŸï¼');
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">åˆ›å»ºå¤±è´¥: ${error.message}</p>`;
            }
        }
        
        async function getTaskList() {
            const resultsDiv = document.getElementById('task-results');
            resultsDiv.innerHTML = '<div class="loading">ğŸ“‹ åŠ è½½ä¸­...</div>';
            try {
                const data = await callAPI('/tasks/list');
                resultsDiv.innerHTML = `<h3>ä»»åŠ¡åˆ—è¡¨</h3><div class="data-card"><pre>${JSON.stringify(data, null, 2)}</pre></div>`;
                showNotification('ä»»åŠ¡åˆ—è¡¨åŠ è½½æˆåŠŸï¼');
            } catch (error) {
                resultsDiv.innerHTML = `<p style="color: red;">åŠ è½½å¤±è´¥: ${error.message}</p>`;
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆ
        document.addEventListener('DOMContentLoaded', () => {
            console.log('ğŸŠ AI-STACK V3.3 ç»Ÿä¸€æ§åˆ¶å°å·²åŠ è½½');
            console.log('ğŸŒ 12ä¸ªæ¨¡å—å¯é€šè¿‡Webç•Œé¢æ“ä½œ');
            console.log('âœ… RAGã€è´¢åŠ¡ã€è¿è¥ã€ERPã€è‚¡ç¥¨ã€å†…å®¹ã€è¶‹åŠ¿ã€äº¤äº’ã€ä»»åŠ¡ã€å¢å¼ºã€LLM');
        });
    </script>
</body>
</html>

