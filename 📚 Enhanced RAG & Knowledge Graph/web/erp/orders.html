<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è®¢å•ç®¡ç† - ERP V5.6</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --primary: #2563eb; --success: #10b981; --warning: #f59e0b; --bg: #0f172a; --surface: #1e293b; --text: #f1f5f9; --text-sec: #94a3b8; --border: #334155; }
        body { font-family: Inter, -apple-system, sans-serif; background: var(--bg); color: var(--text); }
        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
        .top-nav { background: var(--surface); padding: 1rem 2rem; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; margin-bottom: 1.5rem; border-radius: 12px; }
        .nav-title { font-size: 1.5rem; font-weight: 600; }
        .btn { padding: 0.6rem 1.2rem; border-radius: 8px; border: none; cursor: pointer; background: var(--primary); color: white; }
        .data-table { background: var(--surface); border-radius: 12px; border: 1px solid var(--border); }
        .table-header { padding: 1rem 1.5rem; background: #334155; display: flex; justify-content: space-between; border-radius: 12px 12px 0 0; }
        table { width: 100%; border-collapse: collapse; }
        th, td { padding: 1rem 1.5rem; text-align: left; border-bottom: 1px solid var(--border); }
        th { color: var(--text-sec); font-weight: 600; font-size: 0.9rem; background: #334155; }
        tbody tr:hover { background: #334155; }
        .badge { padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.8rem; font-weight: 500; }
        .badge-pending { background: rgba(245, 158, 11, 0.2); color: #f59e0b; }
        .badge-processing { background: rgba(37, 99, 235, 0.2); color: #2563eb; }
        .badge-completed { background: rgba(16, 185, 129, 0.2); color: #10b981; }
    </style>
</head>
<body>
    <div class="top-nav">
        <div class="nav-title">ğŸ“‹ è®¢å•ç®¡ç†</div>
        <button class="btn" onclick="window.open('/erp-comprehensive', '_blank')">â† è¿”å›ERP</button>
    </div>
    <div class="container">
        <div class="data-table">
            <div class="table-header">
                <div style="font-size: 1.1rem; font-weight: 600;">ğŸ“¦ è®¢å•åˆ—è¡¨</div>
                <button class="btn" style="background: #10b981;">+ æ–°å»ºè®¢å•</button>
            </div>
            <table>
                <thead>
                    <tr><th>è®¢å•ç¼–å·</th><th>å®¢æˆ·åç§°</th><th>äº§å“</th><th>æ•°é‡</th><th>é‡‘é¢</th><th>çŠ¶æ€</th><th>åˆ›å»ºæ—¶é—´</th><th>æ“ä½œ</th></tr>
                </thead>
                <tbody>
                    <tr>
                        <td>O20251109001</td><td>é˜¿é‡Œå·´å·´</td><td>AIæœåŠ¡å™¨</td><td>10å°</td><td>Â¥500,000</td>
                        <td><span class="badge badge-processing">å¤„ç†ä¸­</span></td><td>2025-11-09</td>
                        <td><button class="btn" style="padding: 0.4rem 0.8rem; font-size: 0.85rem;">è¯¦æƒ…</button></td>
                    </tr>
                    <tr>
                        <td>O20251108002</td><td>è…¾è®¯ç§‘æŠ€</td><td>äº‘å­˜å‚¨</td><td>100TB</td><td>Â¥200,000</td>
                        <td><span class="badge badge-completed">å·²å®Œæˆ</span></td><td>2025-11-08</td>
                        <td><button class="btn" style="padding: 0.4rem 0.8rem; font-size: 0.85rem;">è¯¦æƒ…</button></td>
                    </tr>
                    <tr>
                        <td>O20251107003</td><td>ç™¾åº¦åœ¨çº¿</td><td>GPUå¡</td><td>20å¼ </td><td>Â¥300,000</td>
                        <td><span class="badge badge-pending">å¾…å¤„ç†</span></td><td>2025-11-07</td>
                        <td><button class="btn" style="padding: 0.4rem 0.8rem; font-size: 0.85rem;">è¯¦æƒ…</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <script>console.log('âœ… è®¢å•ç®¡ç†ç•Œé¢å·²åŠ è½½ï¼ˆV5.6ï¼‰');</script>
</body>
</html>

<script>
// ==================== åç«¯APIè¿æ¥ï¼ˆV5.6ï¼‰====================

class ERPModule {
    constructor(moduleName) {
        this.moduleName = moduleName;
        this.apiBase = `/api/v5/erp/real/${moduleName}`;
    }
    
    async list() {
        try {
            const response = await fetch(`${this.apiBase}/list`);
            if (response.ok) {
                const data = await response.json();
                console.log(`âœ… ${this.moduleName}æ•°æ®åŠ è½½æˆåŠŸ`, data);
                return data;
            }
        } catch (error) {
            console.warn(`âš ï¸  ${this.moduleName} APIæœªå°±ç»ª`, error);
        }
        return null;
    }
    
    async create(data) {
        try {
            const response = await fetch(`${this.apiBase}/create`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data)
            });
            if (response.ok) {
                alert('âœ… åˆ›å»ºæˆåŠŸï¼');
                return await response.json();
            }
        } catch (error) {
            alert('âš ï¸  åŠŸèƒ½å¼€å‘ä¸­...');
        }
        return null;
    }
}

const erpModule = new ERPModule('orders');

// é¡µé¢åŠ è½½æ—¶è·å–æ•°æ®
window.addEventListener('load', async () => {
    const data = await erpModule.list();
    // æ•°æ®å·²åŠ è½½æˆ–ä½¿ç”¨æ¼”ç¤ºæ•°æ®
});

console.log('âœ… ordersåç«¯å·²è¿æ¥ - V5.6');
</script>

