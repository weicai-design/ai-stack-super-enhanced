# ğŸš€ ERPç³»ç»ŸæœåŠ¡å¯åŠ¨æŒ‡å—

**æ›´æ–°æ—¶é—´**: 2025-11-03  
**ç›®çš„**: å¿«é€Ÿå¯åŠ¨å’Œæ•…éšœæ’æŸ¥

---

## âœ… æœåŠ¡çŠ¶æ€

### å½“å‰è¿è¡Œçš„æœåŠ¡
```bash
âœ“ ERPå‰ç«¯: http://localhost:8012  âœ… è¿è¡Œä¸­
âœ“ ERPåç«¯: http://localhost:8013  âœ… è¿è¡Œä¸­
âœ“ æ•°æ®åº“:  SQLite (erp_data.db)  âœ… æ­£å¸¸
```

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### æ–¹æ³•1ï¼šä¸€é”®å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰â­

åˆ›å»ºå¿«é€Ÿå¯åŠ¨è„šæœ¬ï¼š

```bash
#!/bin/bash
# æ–‡ä»¶: start_erp.sh

echo "ğŸš€ æ­£åœ¨å¯åŠ¨ERPç³»ç»Ÿ..."

# å¯åŠ¨åç«¯æœåŠ¡
echo "ğŸ“¡ å¯åŠ¨åç«¯æœåŠ¡..."
cd "/Users/ywc/ai-stack-super-enhanced/ğŸ’¼ Intelligent ERP & Business Management"
source venv/bin/activate
uvicorn api.main:app --host 0.0.0.0 --port 8013 --reload > /tmp/erp-backend.log 2>&1 &
BACKEND_PID=$!

# ç­‰å¾…åç«¯å¯åŠ¨
sleep 3

# å¯åŠ¨å‰ç«¯æœåŠ¡
echo "ğŸ¨ å¯åŠ¨å‰ç«¯æœåŠ¡..."
cd "/Users/ywc/ai-stack-super-enhanced/ğŸ’¼ Intelligent ERP & Business Management/web/frontend"
npm run dev > /tmp/erp-frontend.log 2>&1 &
FRONTEND_PID=$!

# ç­‰å¾…å‰ç«¯å¯åŠ¨
sleep 5

echo "âœ… æœåŠ¡å¯åŠ¨å®Œæˆï¼"
echo "ğŸ“ å‰ç«¯åœ°å€: http://localhost:8012"
echo "ğŸ“ åç«¯åœ°å€: http://localhost:8013"
echo "ğŸ“ APIæ–‡æ¡£: http://localhost:8013/docs"
echo ""
echo "ğŸ“ åç«¯æ—¥å¿—: tail -f /tmp/erp-backend.log"
echo "ğŸ“ å‰ç«¯æ—¥å¿—: tail -f /tmp/erp-frontend.log"
echo ""
echo "ğŸ›‘ åœæ­¢æœåŠ¡: kill $BACKEND_PID $FRONTEND_PID"

# è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
sleep 2
open http://localhost:8012
```

**ä½¿ç”¨æ–¹æ³•**:
```bash
chmod +x start_erp.sh
./start_erp.sh
```

---

### æ–¹æ³•2ï¼šæ‰‹åŠ¨å¯åŠ¨ï¼ˆåˆ†æ­¥æ‰§è¡Œï¼‰

#### æ­¥éª¤1ï¼šå¯åŠ¨åç«¯æœåŠ¡

```bash
# è¿›å…¥ERPç›®å½•
cd "/Users/ywc/ai-stack-super-enhanced/ğŸ’¼ Intelligent ERP & Business Management"

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate

# å¯åŠ¨åç«¯
uvicorn api.main:app --host 0.0.0.0 --port 8013 --reload
```

**çœ‹åˆ°è¿™ä¸ªè¯´æ˜æˆåŠŸ**:
```
INFO:     Uvicorn running on http://0.0.0.0:8013
INFO:     Application startup complete.
```

#### æ­¥éª¤2ï¼šå¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆæ–°ç»ˆç«¯çª—å£ï¼‰

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd "/Users/ywc/ai-stack-super-enhanced/ğŸ’¼ Intelligent ERP & Business Management/web/frontend"

# å¯åŠ¨å‰ç«¯
npm run dev
```

**çœ‹åˆ°è¿™ä¸ªè¯´æ˜æˆåŠŸ**:
```
VITE v5.4.21  ready in 465 ms
âœ  Local:   http://localhost:8012/
```

---

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜1ï¼šå‰ç«¯æœåŠ¡æ— æ³•å¯åŠ¨

**ç—‡çŠ¶**: npm run dev å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. æ£€æŸ¥node_modulesæ˜¯å¦å­˜åœ¨
cd "/Users/ywc/ai-stack-super-enhanced/ğŸ’¼ Intelligent ERP & Business Management/web/frontend"
ls node_modules

# 2. å¦‚æœä¸å­˜åœ¨ï¼Œé‡æ–°å®‰è£…
npm install

# 3. æ¸…ç†ç¼“å­˜é‡è¯•
rm -rf node_modules package-lock.json
npm install
npm run dev
```

---

### é—®é¢˜2ï¼šåç«¯æœåŠ¡æ— æ³•å¯åŠ¨

**ç—‡çŠ¶**: uvicorn å¯åŠ¨å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. æ£€æŸ¥è™šæ‹Ÿç¯å¢ƒ
cd "/Users/ywc/ai-stack-super-enhanced/ğŸ’¼ Intelligent ERP & Business Management"
source venv/bin/activate

# 2. æ£€æŸ¥ä¾èµ–
pip list | grep fastapi

# 3. å¦‚æœç¼ºå°‘ä¾èµ–ï¼Œé‡æ–°å®‰è£…
pip install -r requirements.txt

# 4. æµ‹è¯•Pythonå¯¼å…¥
python -c "from api.main import app; print('OK')"

# 5. é‡æ–°å¯åŠ¨
uvicorn api.main:app --host 0.0.0.0 --port 8013 --reload
```

---

### é—®é¢˜3ï¼šç«¯å£è¢«å ç”¨

**ç—‡çŠ¶**: Address already in use

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -i :8012
lsof -i :8013

# ç»“æŸè¿›ç¨‹
kill -9 <PID>

# æˆ–è€…ä¸€é”®æ¸…ç†
lsof -ti :8012 | xargs kill -9
lsof -ti :8013 | xargs kill -9
```

---

### é—®é¢˜4ï¼šé¡µé¢ç©ºç™½æˆ–æŠ¥é”™

**ç—‡çŠ¶**: æµè§ˆå™¨æ˜¾ç¤ºç©ºç™½æˆ–æ§åˆ¶å°æŠ¥é”™

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
# 2. æŸ¥çœ‹Consoleæ ‡ç­¾çš„é”™è¯¯ä¿¡æ¯
# 3. æŸ¥çœ‹Networkæ ‡ç­¾çš„ç½‘ç»œè¯·æ±‚

# å¸¸è§é”™è¯¯ï¼š
# - 404: è·¯ç”±é…ç½®é—®é¢˜
# - 500: åç«¯APIé”™è¯¯
# - CORS: è·¨åŸŸé—®é¢˜ï¼ˆæ£€æŸ¥åç«¯CORSé…ç½®ï¼‰
```

**å‰ç«¯æ—¥å¿—æŸ¥çœ‹**:
```bash
tail -f /tmp/erp-frontend.log
```

**åç«¯æ—¥å¿—æŸ¥çœ‹**:
```bash
tail -f /tmp/erp-backend.log
```

---

### é—®é¢˜5ï¼šAPIæ— æ³•è¿æ¥

**ç—‡çŠ¶**: å‰ç«¯æ— æ³•è°ƒç”¨åç«¯API

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. æµ‹è¯•åç«¯æ˜¯å¦è¿è¡Œ
curl http://localhost:8013/health

# 2. æµ‹è¯•APIç«¯ç‚¹
curl http://localhost:8013/api/finance/dashboard?period_type=monthly

# 3. æ£€æŸ¥CORSé…ç½®
# ç¡®ä¿ api/main.py ä¸­çš„ CORS å…è®¸å‰ç«¯åŸŸå
```

---

## ğŸ“ æœåŠ¡ç®¡ç†å‘½ä»¤

### æŸ¥çœ‹æœåŠ¡çŠ¶æ€
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :8012  # å‰ç«¯
lsof -i :8013  # åç«¯

# æŸ¥çœ‹è¿›ç¨‹
ps aux | grep node    # å‰ç«¯
ps aux | grep uvicorn # åç«¯
```

### åœæ­¢æœåŠ¡
```bash
# åœæ­¢å‰ç«¯
lsof -ti :8012 | xargs kill -9

# åœæ­¢åç«¯
lsof -ti :8013 | xargs kill -9

# æˆ–è€…åœ¨ç»ˆç«¯æŒ‰ Ctrl+C
```

### é‡å¯æœåŠ¡
```bash
# åœæ­¢æ‰€æœ‰æœåŠ¡
lsof -ti :8012 | xargs kill -9
lsof -ti :8013 | xargs kill -9

# é‡æ–°å¯åŠ¨ï¼ˆå‚è€ƒä¸Šé¢çš„å¯åŠ¨æ–¹æ³•ï¼‰
```

---

## ğŸŒ è®¿é—®æµ‹è¯•

### æµ‹è¯•æ¸…å•

#### 1. æµ‹è¯•åç«¯
```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:8013/health
# åº”è¯¥è¿”å›: {"status":"healthy","database":"connected","version":"1.0.0"}

# è´¢åŠ¡API
curl "http://localhost:8013/api/finance/dashboard?period_type=monthly"
# åº”è¯¥è¿”å›JSONæ•°æ®
```

#### 2. æµ‹è¯•å‰ç«¯
```bash
# é¦–é¡µ
curl -s http://localhost:8012 | grep "æ™ºèƒ½ERPç³»ç»Ÿ"
# åº”è¯¥è¿”å›HTMLåŒ…å«æ ‡é¢˜

# æ‰“å¼€æµè§ˆå™¨
open http://localhost:8012
```

#### 3. æµ‹è¯•é¡µé¢è·¯ç”±
- http://localhost:8012/ ï¼ˆé¦–é¡µï¼‰
- http://localhost:8012/finance/dashboard ï¼ˆè´¢åŠ¡çœ‹æ¿ï¼‰
- http://localhost:8012/analytics/revenue ï¼ˆå¼€æºåˆ†æï¼‰
- http://localhost:8012/process/list ï¼ˆæµç¨‹åˆ—è¡¨ï¼‰
- http://localhost:8012/business/customers ï¼ˆå®¢æˆ·ç®¡ç†ï¼‰

---

## ğŸ› å¸¸è§é”™è¯¯

### é”™è¯¯1: node_modules ä¸å­˜åœ¨
```bash
cd web/frontend
npm install
```

### é”™è¯¯2: Pythonè™šæ‹Ÿç¯å¢ƒæœªæ¿€æ´»
```bash
cd "/Users/ywc/ai-stack-super-enhanced/ğŸ’¼ Intelligent ERP & Business Management"
source venv/bin/activate
```

### é”™è¯¯3: æ•°æ®åº“æ–‡ä»¶ä¸¢å¤±
```bash
# é‡æ–°åˆ›å»ºæ•°æ®åº“
python scripts/add_test_data.py
python scripts/add_business_test_data.py
python scripts/add_process_data.py
```

### é”™è¯¯4: æµè§ˆå™¨ç¼“å­˜é—®é¢˜
```bash
# æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
# Mac: Cmd + Shift + R (å¼ºåˆ¶åˆ·æ–°)
# Windows: Ctrl + F5
```

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### å¦‚æœé¡µé¢åŠ è½½æ…¢

1. **æ£€æŸ¥ç½‘ç»œè¯·æ±‚**
   - æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·
   - Networkæ ‡ç­¾
   - æŸ¥çœ‹å“ªä¸ªè¯·æ±‚æ…¢

2. **ä¼˜åŒ–åç«¯æŸ¥è¯¢**
   - æ·»åŠ æ•°æ®åº“ç´¢å¼•
   - ä¼˜åŒ–SQLæŸ¥è¯¢
   - ä½¿ç”¨ç¼“å­˜

3. **ä¼˜åŒ–å‰ç«¯**
   - ä½¿ç”¨æ‡’åŠ è½½
   - å‡å°‘å›¾è¡¨é‡æ¸²æŸ“
   - ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨

---

## âœ… æ­£å¸¸è¿è¡Œæ£€æŸ¥

### å‰ç«¯æœåŠ¡æ­£å¸¸çš„æ ‡å¿—
- âœ… ç«¯å£8012æœ‰è¿›ç¨‹ç›‘å¬
- âœ… curl è¿”å›HTML
- âœ… æµè§ˆå™¨å¯ä»¥è®¿é—®
- âœ… æ²¡æœ‰æ§åˆ¶å°é”™è¯¯

### åç«¯æœåŠ¡æ­£å¸¸çš„æ ‡å¿—
- âœ… ç«¯å£8013æœ‰è¿›ç¨‹ç›‘å¬
- âœ… /health è¿”å› healthy
- âœ… APIè¿”å›JSONæ•°æ®
- âœ… æ•°æ®åº“è¿æ¥æˆåŠŸ

---

## ğŸ¯ å¿«é€Ÿè¯Šæ–­

### ä¸€è¡Œå‘½ä»¤æ£€æŸ¥æ‰€æœ‰æœåŠ¡
```bash
echo "å‰ç«¯:" && curl -s http://localhost:8012 | head -5 && \
echo "åç«¯:" && curl -s http://localhost:8013/health && \
echo "å®Œæˆï¼"
```

---

## ğŸ“ è·å–å¸®åŠ©

### æŸ¥çœ‹æ—¥å¿—
```bash
# å‰ç«¯æ—¥å¿—
tail -f /tmp/erp-frontend.log

# åç«¯æ—¥å¿—
tail -f /tmp/erp-backend.log
```

### å¸¸ç”¨å‘½ä»¤
```bash
# æŸ¥çœ‹æ‰€æœ‰ç›‘å¬çš„ç«¯å£
lsof -i -P | grep LISTEN

# æŸ¥çœ‹ç‰¹å®šç«¯å£
lsof -i :8012
lsof -i :8013

# ç»“æŸæ‰€æœ‰ERPæœåŠ¡
pkill -f "vite.*8012"
pkill -f "uvicorn.*8013"
```

---

**æ›´æ–°æ—¶é—´**: 2025-11-03  
**æœåŠ¡çŠ¶æ€**: âœ… å·²å¯åŠ¨  
**è®¿é—®åœ°å€**: http://localhost:8012

